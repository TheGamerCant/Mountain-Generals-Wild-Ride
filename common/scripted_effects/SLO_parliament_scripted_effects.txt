SLO_debug_hold_slovak_election = {
	SLO = {
		SLO_initialise_parliament = yes
		
		SLO_start_campaign = yes
		SLO_hold_election = yes	
	}
}
SLO_debug_hold_european_election = {
	SLO = {
		SLO_initialise_europe_mechanics = yes
	
		SLO_start_campaign = yes
		SLO_hold_election = yes
	}
}

SLO_clear_government_majority_minority_flags = {
	clr_country_flag = can_form_majority_gov_communist
	clr_country_flag = can_form_majority_gov_soc_dem
	clr_country_flag = can_form_majority_gov_liberal
	clr_country_flag = can_form_majority_gov_conservative
	clr_country_flag = can_form_majority_gov_nationalist
	clr_country_flag = can_form_majority_gov_fascist

	clr_country_flag = can_form_majority_gov_soc_dem_liberal
	clr_country_flag = can_form_majority_gov_soc_dem_conservative
	clr_country_flag = can_form_majority_gov_liberal_conservative
	clr_country_flag = can_form_majority_gov_conservative_nationalist

	clr_country_flag = can_form_majority_gov_soc_dem_liberal_conservative
	clr_country_flag = can_form_majority_gov_liberal_conservative_nationalist
	clr_country_flag = can_form_majority_gov_communist_soc_dem
	clr_country_flag = can_form_majority_gov_nationalist_fascist

	clr_country_flag = can_form_minority_gov_soc_dem_liberal_conservative
	clr_country_flag = can_form_minority_gov_liberal_conservative_nationalist
	clr_country_flag = can_form_minority_gov_communist_soc_dem
	clr_country_flag = can_form_minority_gov_nationalist_facsist
}

SLO_get_possible_governments = {
	#Check for majority governments
	if = {
		limit = { check_variable = { var = SLO.seat_array^0 value = SLO.seats_needed_for_majority compare = greater_than_or_equals } }
		
		set_country_flag = can_form_majority_gov_communist
	}
	else_if = {
		limit = { check_variable = { var = SLO.seat_array^1 value = SLO.seats_needed_for_majority compare = greater_than_or_equals } }
		
		set_country_flag = can_form_majority_gov_soc_dem
	}
	else_if = {
		limit = { check_variable = { var = SLO.seat_array^2 value = SLO.seats_needed_for_majority compare = greater_than_or_equals } }
		
		set_country_flag = can_form_majority_gov_liberal
	}
	else_if = {
		limit = { check_variable = { var = SLO.seat_array^3 value = SLO.seats_needed_for_majority compare = greater_than_or_equals } }
		
		set_country_flag = can_form_majority_gov_conservative
	}
	else_if = {
		limit = { check_variable = { var = SLO.seat_array^4 value = SLO.seats_needed_for_majority compare = greater_than_or_equals } }
		
		set_country_flag = can_form_majority_gov_nationalist
	}
	else_if = {
		limit = { check_variable = { var = SLO.seat_array^5 value = SLO.seats_needed_for_majority compare = greater_than_or_equals } }
		
		set_country_flag = can_form_majority_gov_fascist
	}
	else = {
		#No majority can be formed - try to make a two or three party government
		
		
		if = {
			limit = {
				set_temp_variable = { gov_check = SLO.seat_array^1 }
				add_to_temp_variable = { gov_check = SLO.seat_array^2 }
				check_variable = { var = gov_check value = SLO.seats_needed_for_majority compare = greater_than_or_equals }
			}
			
			set_country_flag = can_form_majority_gov_soc_dem_liberal
		}
		if = {
			limit = {
				set_temp_variable = { gov_check = SLO.seat_array^1 }
				add_to_temp_variable = { gov_check = SLO.seat_array^3 }
				check_variable = { var = gov_check value = SLO.seats_needed_for_majority compare = greater_than_or_equals }
			}
			
			set_country_flag = can_form_majority_gov_soc_dem_conservative
		}
		if = {
			limit = {
				set_temp_variable = { gov_check = SLO.seat_array^2 }
				add_to_temp_variable = { gov_check = SLO.seat_array^3 }
				check_variable = { var = gov_check value = SLO.seats_needed_for_majority compare = greater_than_or_equals }
			}
			
			set_country_flag = can_form_majority_gov_liberal_conservative
		}
		if = {
			limit = {
				set_temp_variable = { gov_check = SLO.seat_array^3 }
				add_to_temp_variable = { gov_check = SLO.seat_array^4 }
				check_variable = { var = gov_check value = SLO.seats_needed_for_majority compare = greater_than_or_equals }
			}
			
			set_country_flag = can_form_majority_gov_conservative_nationalist
		}
		
		if = {
			limit = {
				set_temp_variable = { gov_check = SLO.seat_array^1 }
				add_to_temp_variable = { gov_check = SLO.seat_array^2 }
				add_to_temp_variable = { gov_check = SLO.seat_array^3 }
				check_variable = { var = gov_check value = SLO.seats_needed_for_majority compare = greater_than_or_equals }
				
				NOT = { has_country_flag = can_form_majority_gov_soc_dem_liberal }
				NOT = { has_country_flag = can_form_majority_gov_soc_dem_conservative }
				NOT = { has_country_flag = can_form_majority_gov_liberal_conservative }
			}
			
			set_country_flag = can_form_majority_gov_soc_dem_liberal_conservative
		}
		if = {
			limit = {
				set_temp_variable = { gov_check = SLO.seat_array^2 }
				add_to_temp_variable = { gov_check = SLO.seat_array^3 }
				add_to_temp_variable = { gov_check = SLO.seat_array^4 }
				check_variable = { var = gov_check value = SLO.seats_needed_for_majority compare = greater_than_or_equals }
				
				NOT = { has_country_flag = can_form_majority_gov_liberal_conservative }
				NOT = { has_country_flag = can_form_majority_gov_conservative_nationalist } 
			}
			
			set_country_flag = can_form_majority_gov_liberal_conservative_nationalist
		}
		if = {
			limit = {
				set_temp_variable = { gov_check = SLO.seat_array^0 }
				add_to_temp_variable = { gov_check = SLO.seat_array^1 }
				check_variable = { var = gov_check value = SLO.seats_needed_for_majority compare = greater_than_or_equals }
			}
			
			set_country_flag = can_form_majority_gov_communist_soc_dem
		}
		if = {
			limit = {
				set_temp_variable = { gov_check = SLO.seat_array^4 }
				add_to_temp_variable = { gov_check = SLO.seat_array^5 }
				check_variable = { var = gov_check value = SLO.seats_needed_for_majority compare = greater_than_or_equals }
			}
			
			set_country_flag = can_form_majority_gov_nationalist_fascist
		}
			
		#Still cannot form a government! Minority it is then
		if = {
			limit = {
				NOT = {
					OR = {
						has_country_flag = can_form_majority_gov_soc_dem_liberal
						has_country_flag = can_form_majority_gov_soc_dem_conservative
						has_country_flag = can_form_majority_gov_liberal_conservative
						has_country_flag = can_form_majority_gov_conservative_nationalist
						has_country_flag = can_form_majority_gov_soc_dem_liberal_conservative
						has_country_flag = can_form_majority_gov_liberal_conservative_nationalist
						has_country_flag = can_form_majority_gov_communist_soc_dem
						has_country_flag = can_form_majority_gov_nationalist_fascist
					}
				}
			}
			
			#Find largest possible minority government
				
			clear_array = SLO.possible_governments
			resize_array = { array = SLO.possible_governments value = 0 size = 4 }
			
			#Soc dem - Liberal - Conservative
			set_variable = { SLO.possible_governments^0 = SLO.seat_array^1 }
			add_to_variable = { SLO.possible_governments^0 = SLO.seat_array^2 }
			add_to_variable = { SLO.possible_governments^0 = SLO.seat_array^3 }
			
			#Liberal - Conservative - Nationalist
			set_variable = { SLO.possible_governments^1 = SLO.seat_array^2 }
			add_to_variable = { SLO.possible_governments^1 = SLO.seat_array^3 }
			add_to_variable = { SLO.possible_governments^1 = SLO.seat_array^4 }
			
			#Nationalist - Fascist
			set_variable = { SLO.possible_governments^2 = SLO.seat_array^4 }
			add_to_variable = { SLO.possible_governments^2 = SLO.seat_array^5 }
			
			#Communist - Soc dem
			set_variable = { SLO.possible_governments^3 = SLO.seat_array^0 }
			add_to_variable = { SLO.possible_governments^3 = SLO.seat_array^1 }
			
			find_highest_in_array = {
				array = SLO.possible_governments
				value = temp_value
				index = temp_index
			}
			
			if = {
				limit = { check_variable = { temp_index = 0 } }
				set_country_flag = can_form_minority_gov_soc_dem_liberal_conservative
			}
			else_if = {
				limit = { check_variable = { temp_index = 1 } }
				set_country_flag = can_form_minority_gov_liberal_conservative_nationalist
			}
			else_if = {
				limit = { check_variable = { temp_index = 2 } }
				set_country_flag = can_form_minority_gov_nationalist_facsist
			}
			else = {
				set_country_flag = can_form_minority_gov_communist_soc_dem
			}
			
			clear_array = SLO.possible_governments
		}
	}
	
	if = {
		limit = {  
			OR = {
				has_country_flag = can_form_majority_gov_communist
				has_country_flag = can_form_majority_gov_fascist
			}
		}
		
		country_event = { id = slovakia_elections.2 }
	}
	else_if = {
		limit = {  
			OR = {
				has_country_flag = can_form_majority_gov_soc_dem
				has_country_flag = can_form_majority_gov_liberal
				has_country_flag = can_form_majority_gov_conservative
				has_country_flag = can_form_majority_gov_nationalist
			}
		}
		
		country_event = { id = slovakia_elections.3 }
	}
	else_if = {
		limit = {  
			OR = {
				has_country_flag = can_form_majority_gov_soc_dem_liberal
				has_country_flag = can_form_majority_gov_liberal_conservative
				has_country_flag = can_form_majority_gov_soc_dem_conservative
				has_country_flag = can_form_majority_gov_conservative_nationalist
			}
		}
		
		country_event = { id = slovakia_elections.4 }
	}
	else_if = {
		limit = {  
			OR = {
				has_country_flag = can_form_majority_gov_soc_dem_liberal_conservative
				has_country_flag = can_form_majority_gov_liberal_conservative_nationalist
				has_country_flag = can_form_majority_gov_communist_soc_dem
				has_country_flag = can_form_majority_gov_nationalist_fascist
			}
		}
		
		country_event = { id = slovakia_elections.4 }
#		country_event = { id = slovakia_elections.5 }
	}
	else_if = {
		limit = {  
			OR = {
				has_country_flag = can_form_minority_gov_soc_dem_liberal_conservative
				has_country_flag = can_form_minority_gov_liberal_conservative_nationalist
				has_country_flag = can_form_minority_gov_communist_soc_dem
				has_country_flag = can_form_minority_gov_nationalist_facsist
			}
		}
		
		country_event = { id = slovakia_elections.6 }
	}
}

SLO_update_parliament_position_gfx = {
	clear_array = SLO.parliament_x_pos_array
	clear_array = SLO.parliament_y_pos_array
	clear_array = SLO.parliament_frame_array
	
	# How many seats wide is our parliament GUI going to be
	set_variable = { THIS.seats_per_row = SLO.gui_gridbox_width }						#39
	divide_variable = { THIS.seats_per_row = SLO.gui_party_dot_entry_size }
	divide_variable = { THIS.seats_per_row = 1000 }										# Make sure we round down so there's no decimal point.
	multiply_variable = { THIS.seats_per_row = 1000 }
	
	
	### Start with the government ###
	
	
	# How many seats tall will each of the rows occupied by the government be?
	
	set_variable = { THIS.government_height_floor_division = SLO.government_seat_count }
	divide_variable = { THIS.government_height_floor_division = THIS.seats_per_row }
	divide_variable = { THIS.government_height_floor_division = 1000 }
	multiply_variable = { THIS.government_height_floor_division = 1000 }
	set_variable = { THIS.government_height_modulo_division = SLO.government_seat_count }
	modulo_variable = { THIS.government_height_modulo_division = THIS.seats_per_row }
	
	
	# Create an array of size THIS.seats_per_row, equalling how many seats there are in each column
	resize_array = {
		array = THIS.government_seats_height_array
		value = THIS.government_height_floor_division
		size = THIS.seats_per_row
	}
	for_loop_effect = {
		end = THIS.government_height_modulo_division
		value = v
		
		add_to_variable = { THIS.government_seats_height_array^v = 1 }
	}
	clear_variable = THIS.government_height_floor_division
	clear_variable = THIS.government_height_modulo_division
	
	# Repeat the same code for the opposition
	
	set_variable = { THIS.opposition_height_floor_division = SLO.opposition_seat_count }
	divide_variable = { THIS.opposition_height_floor_division = THIS.seats_per_row }
	divide_variable = { THIS.opposition_height_floor_division = 1000 }
	multiply_variable = { THIS.opposition_height_floor_division = 1000 }
	set_variable = { THIS.opposition_height_modulo_division = SLO.opposition_seat_count }
	modulo_variable = { THIS.opposition_height_modulo_division = THIS.seats_per_row }
	resize_array = {
		array = THIS.opposition_seats_height_array
		value = THIS.opposition_height_floor_division
		size = THIS.seats_per_row
	}
	for_loop_effect = {
		end = THIS.opposition_height_modulo_division
		value = v
		
		add_to_variable = { THIS.opposition_seats_height_array^v = 1 }
	}
	clear_variable = THIS.opposition_height_floor_division
	clear_variable = THIS.opposition_height_modulo_division
	
	# We now have two arrays - THIS.government_seats_height_array and THIS.opposition_seats_height_array
	# They are of length n where n is the amount of columns (how many seats can fit into the x axis), where each value corresponds to how many seats are in the column
	
	resize_array = {
		array = SLO.parliament_x_pos_array
		value = 0
		size = SLO.seat_count
	}
	resize_array = {
		array = SLO.parliament_y_pos_array
		value = 0
		size = SLO.seat_count
	}
	resize_array = {
		array = SLO.parliament_frame_array
		value = 1
		size = SLO.seat_count
	}
	
	# Now, we work out the x and y pos for each
	
	set_variable = { THIS.current_x_pos = 0 }
	set_variable = { THIS.current_index = 0 }
	
	for_each_loop = {
		array = THIS.government_seats_height_array
		value = v
		index = i
		
		# Fill our parliament starting in the top left, going down, moving over one place and repeating
		for_loop_effect = {
			end = v
			value = v_2
			
			set_variable = { SLO.parliament_x_pos_array^THIS.current_index = THIS.current_x_pos }
			set_variable = { SLO.parliament_y_pos_array^THIS.current_index = v_2 }
			multiply_variable = { SLO.parliament_y_pos_array^THIS.current_index = SLO.gui_party_dot_entry_size }
			
			add_to_variable = { THIS.current_index = 1 }
		}
		
		add_to_variable = { THIS.current_x_pos = SLO.gui_party_dot_entry_size }
	}
	
	# Set back at 0
	set_variable = { THIS.current_x_pos = 0 }
	
	for_each_loop = {
		array = THIS.opposition_seats_height_array
		value = v
		index = i
		
		for_loop_effect = {
			end = v
			value = v_2
			
			set_variable = { SLO.parliament_x_pos_array^THIS.current_index = THIS.current_x_pos }
			set_variable = { SLO.parliament_y_pos_array^THIS.current_index = SLO.gui_bottom_y_pos }
			set_variable = { THIS.y_to_subtract = v_2 }
			multiply_variable = { THIS.y_to_subtract = SLO.gui_party_dot_entry_size }
			subtract_from_variable = { SLO.parliament_y_pos_array^THIS.current_index = THIS.y_to_subtract }
			
			clear_variable = THIS.y_to_subtract
			
			add_to_variable = { THIS.current_index = 1 }
		}
		
		add_to_variable = { THIS.current_x_pos = SLO.gui_party_dot_entry_size }
	}
	
	# We now have our x and y positions - now we need to set frames
	# Will just be indexes + 1
	
	# Go over each party, and for each of it's seats, set the value in SLO.parliament_frame_array to that plus one
	
	set_variable = { THIS.current_index = 0 }
	
	for_each_loop = {
		array = SLO.parties_in_government
		value = v
		index = i
		
		for_loop_effect = {
			end = SLO.seat_array^v
			value = v_2
			
			set_variable = { SLO.parliament_frame_array^THIS.current_index = v }
			if = {
				limit = { check_variable = { SLO.parliament_level = 0 } }					#Large icons for Slovakia, small icons for Europe
				add_to_variable = { SLO.parliament_frame_array^THIS.current_index = 1 }
			}
			else = {
				add_to_variable = { SLO.parliament_frame_array^THIS.current_index = 8 }
			}
			
			add_to_variable = { THIS.current_index = 1 }
		}
	}
	
	for_each_loop = {
		array = SLO.parties_in_opposition
		value = v
		index = i
		
		for_loop_effect = {
			end = SLO.seat_array^v
			value = v_2
			
			set_variable = { SLO.parliament_frame_array^THIS.current_index = v }
			if = {
				limit = { check_variable = { SLO.parliament_level = 0 } }					#Large icons for Slovakia, small icons for Europe
				add_to_variable = { SLO.parliament_frame_array^THIS.current_index = 1 }
			}
			else = {
				add_to_variable = { SLO.parliament_frame_array^THIS.current_index = 8 }
			}
			
			add_to_variable = { THIS.current_index = 1 }
		}
	}
	
	# Clear our variables and arrays
	clear_variable = THIS.seats_per_row
	clear_variable = THIS.current_x_pos
	clear_variable = THIS.current_index
	clear_array = THIS.government_seats_height_array
	clear_array = THIS.opposition_seats_height_array
}

SLO_update_government_opposition_seat_counts = {
	#Get seat counts
	set_variable = { SLO.government_seat_count = 0 }
	set_variable = { SLO.opposition_seat_count = 0 }
	
	for_each_loop = {
		array = SLO.parties_in_government
		index = i
		value = v
		
		add_to_variable = { SLO.government_seat_count = SLO.seat_array^v }
	}
	
	for_each_loop = {
		array = SLO.parties_in_opposition	
		index = i
		value = v
		
		add_to_variable = { SLO.opposition_seat_count = SLO.seat_array^v }
	}
	
	#Also get parties in order		-> Sort by seat count
	clear_array = SLO.parties_in_government_ordered
	clear_array = SLO.parties_in_opposition_ordered
	
	for_each_loop = {
		array = SLO.previous_election_position_party_seats
		index = i
		value = v
		
		if = {
			limit = { is_in_array = { array = SLO.parties_in_government value = v } }
			add_to_array = { SLO.parties_in_government_ordered = v } 
		}
		else = {
			add_to_array = { SLO.parties_in_opposition_ordered = v }
		}
	}
}

SLO_initialise_parliament = {
	set_variable = { SLO.seat_count = 250 }								#250 seats in total
	set_variable = { SLO.seats_needed_for_majority = 126 }				#How many seats do we need to form a majority
	set_variable = { SLO.parliament_level = 0 }							#0 is Slovakia, 1 is Europe
	set_variable = { SLO.parliament_threshold = 0 }						#Threshold needed for entry
	set_variable = { SLO.election_frequency	= 1825 }					#Days between elections
	set_variable = { SLO.election_frequency_thirds = 608 }
	set_variable = { SLO.election_frequency_four_fifths = 1460 }
	set_variable = { SLO.campaign_duration = 60 }						#How many days will campaigning last for?
	set_variable = { SLO.SLO_electoral_map_selected_state = SLO }		#What state / country are we looking at in the GUI?
	set_variable = { SLO.SLO_electoral_map_gui_selected_results = SLO }	#Should the map show country or party results
	set_variable = { SLO.language = 0 }									#Language of our GUI
	set_variable = { SLO.voting_population_multiplier = 0.618 }
	
	set_variable = { SLO.gui_gridbox_width = 468 }
	set_variable = { SLO.gui_party_dot_entry_size = 18 }				#Can be 12, 13 or 18
	set_variable = { SLO.gui_bottom_y_pos = 258 }
	
	clear_array = SLO.election_states
	add_to_array = { SLO.election_states = 70 }
	add_to_array = { SLO.election_states = 71 }
	add_to_array = { SLO.election_states = 73 }
	add_to_array = { SLO.election_states = 664 }
	
	#Coded like this so we can set x_pos to x0 and y_pos to y0 without errors (It works anyways I just don't want it showing up in the error log)
	70 = { 
		set_variable = { x0 = 46 }
		set_variable = { y0 = 126 }
		set_variable = { x1 = 324 }
		set_variable = { y1 = 284 }
		set_variable = { x_pos = x0 }
		set_variable = { y_pos = y0 }
		set_variable = { overlay_token = token:SLO_GFX_elections_slovakia_70_OVERLAY_idea }
		set_variable = { progressbar_token = token:SLO_GFX_elections_slovakia_70_PROGRESSBAR_idea }
		set_variable = { name_token = token:SLO_NAME_elections_slovakia_70_LANG_SLO_idea }
	}
	
	71 = { 
		set_variable = { x0 = 254 }
		set_variable = { y0 = 107 }
		set_variable = { x1 = 593 }
		set_variable = { y1 = 255 }
		set_variable = { x_pos = x0 }
		set_variable = { y_pos = y0 }
		set_variable = { overlay_token = token:SLO_GFX_elections_slovakia_71_OVERLAY_idea }
		set_variable = { progressbar_token = token:SLO_GFX_elections_slovakia_71_PROGRESSBAR_idea }
		set_variable = { name_token = token:SLO_NAME_elections_slovakia_71_LANG_SLO_idea }
	}
	
	73 = {
		set_variable = { x0 = 558 }
		set_variable = { y0 = 166 }
		set_variable = { x1 = 782 }
		set_variable = { y1 = 315 }
		set_variable = { x_pos = x0 }
		set_variable = { y_pos = y0 }
		set_variable = { overlay_token = token:SLO_GFX_elections_slovakia_73_OVERLAY_idea }
		set_variable = { progressbar_token = token:SLO_GFX_elections_slovakia_73_PROGRESSBAR_idea }
		set_variable = { name_token = token:SLO_NAME_elections_slovakia_73_LANG_SLO_idea }
	}
	
	664 = {
		set_variable = { x0 = 78 }
		set_variable = { y0 = 194 }
		set_variable = { x1 = 556 }
		set_variable = { y1 = 328 }
		set_variable = { x_pos = x0 }
		set_variable = { y_pos = y0 }
		set_variable = { overlay_token = token:SLO_GFX_elections_slovakia_664_OVERLAY_idea }
		set_variable = { progressbar_token = token:SLO_GFX_elections_slovakia_664_PROGRESSBAR_idea }
		set_variable = { name_token = token:SLO_NAME_elections_slovakia_664_LANG_SLO_idea }
	}
	
	#Party 0 -> Communist
	#Party 1 -> Social Democratic
	#Party 2 -> Liberal
	#Party 3 -> Agrarian / Conservative
	#Party 4 -> Nationalist
	#Party 5 -> Fascist
	#Party 6 -> Other
	
	#Western Slovakia
	clear_array = 70.party_popularity
	add_to_array = { 70.party_popularity = 9 }
	add_to_array = { 70.party_popularity = 25  }
	add_to_array = { 70.party_popularity = 14  }
	add_to_array = { 70.party_popularity = 21  }
	add_to_array = { 70.party_popularity = 20  }
	add_to_array = { 70.party_popularity = 2 }
	add_to_array = { 70.party_popularity = 3 }
	
	#Eastern Slovakia
	clear_array = 71.party_popularity
	add_to_array = { 71.party_popularity = 7 }
	add_to_array = { 71.party_popularity = 13  }
	add_to_array = { 71.party_popularity = 12  }
	add_to_array = { 71.party_popularity = 28  }
	add_to_array = { 71.party_popularity = 31  }
	add_to_array = { 71.party_popularity = 5 }
	add_to_array = { 71.party_popularity = 4 }
	
	#Carpathian Ruthenia
	clear_array = 73.party_popularity
	add_to_array = { 73.party_popularity = 24 }
	add_to_array = { 73.party_popularity = 19 }
	add_to_array = { 73.party_popularity = 10  }
	add_to_array = { 73.party_popularity = 21  }
	add_to_array = { 73.party_popularity = 15  }
	add_to_array = { 73.party_popularity = 6 }
	add_to_array = { 73.party_popularity = 5 }
	
	#Southern Slovakia
	clear_array = 664.party_popularity
	add_to_array = { 664.party_popularity = 4 }
	add_to_array = { 664.party_popularity = 14  }
	add_to_array = { 664.party_popularity = 8  }
	add_to_array = { 664.party_popularity = 16  }
	add_to_array = { 664.party_popularity = 18  }
	add_to_array = { 664.party_popularity = 5 }
	add_to_array = { 664.party_popularity = 35 }

	clear_array = SLO.party_names_long_no_colour_array
	clear_array = SLO.party_names_long_coloured_array
	clear_array = SLO.party_names_short_no_colour_array
	clear_array = SLO.party_names_short_coloured_array
	resize_array = { array = SLO.party_names_long_no_colour_array size = 7 value = 0 }
	resize_array = { array = SLO.party_names_long_coloured_array size = 7 value = 0 }
	resize_array = { array = SLO.party_names_short_no_colour_array size = 7 value = 0 }
	resize_array = { array = SLO.party_names_short_coloured_array size = 7 value = 0 }
	
	set_variable = { SLO.party_names_long_no_colour_array^0 = token:SLO_communist_party_long_no_colour_LANG_SLO_idea }
	set_variable = { SLO.party_names_long_no_colour_array^1 = token:SLO_soc_dem_party_long_no_colour_LANG_SLO_idea }
	set_variable = { SLO.party_names_long_no_colour_array^2 = token:SLO_liberal_party_long_no_colour_LANG_SLO_idea }
	set_variable = { SLO.party_names_long_no_colour_array^3 = token:SLO_conservative_party_long_no_colour_LANG_SLO_idea }
	set_variable = { SLO.party_names_long_no_colour_array^4 = token:SLO_nationalist_party_long_no_colour_LANG_SLO_idea }
	set_variable = { SLO.party_names_long_no_colour_array^5 = token:SLO_fascist_party_long_no_colour_LANG_SLO_idea }
	set_variable = { SLO.party_names_long_no_colour_array^6 = token:SLO_non_aligned_other_party_long_no_colour_LANG_SLO_idea }
	
	set_variable = { SLO.party_names_long_coloured_array^0 = token:SLO_communist_party_long_coloured_LANG_SLO_idea }
	set_variable = { SLO.party_names_long_coloured_array^1 = token:SLO_soc_dem_party_long_coloured_LANG_SLO_idea }
	set_variable = { SLO.party_names_long_coloured_array^2 = token:SLO_liberal_party_long_coloured_LANG_SLO_idea }
	set_variable = { SLO.party_names_long_coloured_array^3 = token:SLO_conservative_party_long_coloured_LANG_SLO_idea }
	set_variable = { SLO.party_names_long_coloured_array^4 = token:SLO_nationalist_party_long_coloured_LANG_SLO_idea }
	set_variable = { SLO.party_names_long_coloured_array^5 = token:SLO_fascist_party_long_coloured_LANG_SLO_idea }
	set_variable = { SLO.party_names_long_coloured_array^6 = token:SLO_non_aligned_other_party_long_coloured_LANG_SLO_idea }
	
	set_variable = { SLO.party_names_short_no_colour_array^0 = token:SLO_communist_party_short_no_colour_LANG_SLO_idea }
	set_variable = { SLO.party_names_short_no_colour_array^1 = token:SLO_soc_dem_party_short_no_colour_LANG_SLO_idea }
	set_variable = { SLO.party_names_short_no_colour_array^2 = token:SLO_liberal_party_short_no_colour_LANG_SLO_idea }
	set_variable = { SLO.party_names_short_no_colour_array^3 = token:SLO_conservative_party_short_no_colour_LANG_SLO_idea }
	set_variable = { SLO.party_names_short_no_colour_array^4 = token:SLO_nationalist_party_short_no_colour_LANG_SLO_idea }
	set_variable = { SLO.party_names_short_no_colour_array^5 = token:SLO_fascist_party_short_no_colour_LANG_SLO_idea }
	set_variable = { SLO.party_names_short_no_colour_array^6 = token:SLO_non_aligned_other_party_short_no_colour_LANG_SLO_idea }
	
	set_variable = { SLO.party_names_short_coloured_array^0 = token:SLO_communist_party_short_coloured_LANG_SLO_idea }
	set_variable = { SLO.party_names_short_coloured_array^1 = token:SLO_soc_dem_party_short_coloured_LANG_SLO_idea }
	set_variable = { SLO.party_names_short_coloured_array^2 = token:SLO_liberal_party_short_coloured_LANG_SLO_idea }
	set_variable = { SLO.party_names_short_coloured_array^3 = token:SLO_conservative_party_short_coloured_LANG_SLO_idea }
	set_variable = { SLO.party_names_short_coloured_array^4 = token:SLO_nationalist_party_short_coloured_LANG_SLO_idea }
	set_variable = { SLO.party_names_short_coloured_array^5 = token:SLO_fascist_party_short_coloured_LANG_SLO_idea }
	set_variable = { SLO.party_names_short_coloured_array^6 = token:SLO_non_aligned_other_party_short_coloured_LANG_SLO_idea }

	
	SLO_divide_seats = yes
}

STATE_randomise_party_popularity_and_get_results = {
	#Clear old arrays
	clear_array = THIS.previous_election_results
	clear_array = THIS.previous_election_votes
	
	#Randomise results for each party
	for_each_loop = {
		array = THIS.party_popularity
		value = v
		break = break
		index = i
		
		#Binomial Distribution for randomness, represents polling errors
		random_list = {
			1 = { set_variable = { rndm = 0.10 } }
			3 = { set_variable = { rndm = 0.09 } }
			6 = { set_variable = { rndm = 0.08 } }
			12 = { set_variable = { rndm = 0.07 } }
			22 = { set_variable = { rndm = 0.06 } }
			38 = { set_variable = { rndm = 0.05 } }
			58 = { set_variable = { rndm = 0.04 } }
			80 = { set_variable = { rndm = 0.03 } }
			101 = { set_variable = { rndm = 0.02 } }
			116 = { set_variable = { rndm = 0.01 } }
			122 = { set_variable = { rndm = 0.00 } }
		}
		
		random_list = {
			1 = { multiply_variable = { rndm = -1 } }
			1 = {  }
		}
		
		#Set results equal to popularity -> Times it by rndm -> Add it to the results array
		add_to_variable = { rndm = 1 }
		set_variable = { results = v }
		multiply_variable = { results = rndm }
		
		add_to_array = { THIS.previous_election_results = results}
		
		clear_variable = results
		clear_variable = rndm
	}
	
	#Set the results equal to 100%
	set_variable = { total = 0 }
	for_each_loop = {
		array = THIS.previous_election_results
		value = v
		
		add_to_variable = { total = v }
	}
	
	set_variable = { mult = 100 }
	divide_variable = { mult = total }
	for_loop_effect = {
		end = THIS.previous_election_results^num
		value = v
		
		multiply_variable = { THIS.previous_election_results^v = mult }
	}
	
	clear_variable = total
	clear_variable = mult
	
	#Get the turnout -> Turnout was mandatory, so between 85-95
	set_variable_to_random = {
		var = THIS.previous_election_turnout
		max = 0.950
		min = 0.850
		integer = no
	}
	
	set_variable = { THIS.previous_election_total_votes = 0 }
	
	#We have the results as a % -> now get the vote totals as well
	if = {
		limit = { check_variable = { SLO.parliament_level = 0 } }		#Slovakia
		
		for_each_loop = {
			array = THIS.previous_election_results
			value = v
			index = i
		
			set_variable = { votes = THIS.state_population_k }
			multiply_variable = { votes = SLO.voting_population_multiplier }							#Kids can't vote + no universal sufferage
			multiply_variable = { votes = THIS.previous_election_turnout }
			
			#Need to get a percentage, divide each by 10 to keep as much accuracy as we can
			set_variable = { prcntge = v }
			divide_variable = { prcntge = 10 }
			divide_variable = { votes = 10 }
			
			multiply_variable = { votes = prcntge }
			
			add_to_array = { THIS.previous_election_votes = votes }
			add_to_variable = { THIS.previous_election_total_votes = votes }
			
			clear_variable = votes
			clear_variable = prcntge
		}
	}
	else = {
		for_each_loop = {
			array = THIS.previous_election_results
			value = v
			index = i
		
			set_variable = { votes = 0 }
			
			for_each_scope_loop = {
				array = THIS.subdivision_states
				
				add_to_variable = { PREV.votes = THIS.state_population_k }
			}
	
			multiply_variable = { votes = SLO.voting_population_multiplier }							#Kids can't vote + no universal sufferage
			multiply_variable = { votes = THIS.previous_election_turnout }
			
			#Need to get a percentage, divide each by 10 to keep as much accuracy as we can
			set_variable = { prcntge = v }
			divide_variable = { prcntge = 10 }
			divide_variable = { votes = 10 }
			
			multiply_variable = { votes = prcntge }
			
			add_to_array = { THIS.previous_election_votes = votes }
			add_to_variable = { THIS.previous_election_total_votes = votes }
			
			clear_variable = votes
			clear_variable = prcntge
		}
	}
}

STATE_get_ordered_results = {
	clear_array = THIS.previous_election_results_ordered
	clear_array = THIS.previous_election_party_position
	clear_array = THIS.previous_election_position_party
	
	#Boilerplate code for quicksort
	clear_array = arr
	resize_array = { array = arr size = THIS.previous_election_results^num value = 0 }
	
	for_each_loop = {
		array = THIS.previous_election_results
		value = v
		index = i
		
		set_variable = { arr^i = v }
	}

	set_variable = { high = arr^num }
	subtract_from_variable = { high = 1 }
	set_variable = { low = 0 }
	
	quicksort = yes
	
	#Make a descending array
	resize_array = { array = THIS.previous_election_results_ordered value = 0 size = arr^num }
	
	for_each_loop = {
		array = arr
		value = v
		index = i
		
		set_temp_variable = { t = arr^num }
		subtract_from_temp_variable = { t = i }
		subtract_from_temp_variable = { t = 1 }
		
		set_variable = { THIS.previous_election_results_ordered^t = v }
	}

	
	clear_array = arr
	clear_variable = high
	clear_variable = low
	
	
	#Get party positions, use binary search on the ordered array
	resize_array = { array = THIS.previous_election_party_position value = 0 size = THIS.previous_election_results^num }
	
	for_each_loop = {
		array = THIS.previous_election_results
		value = v
		index = i
		break = break
		
		#Use variables high and low to get the range of the array we are looking at
		set_variable = { low = 0 }
		set_variable = { high = THIS.previous_election_results^num }
		subtract_from_variable = { high = 1 }
		
		set_variable = { current_pos = high }
		divide_variable = { current_pos = 2 }
		round_variable = current_pos
		
		for_loop_effect = {
			end = THIS.previous_election_results^num
			value = v2
			break = break2
			
			#If we have found the position, break the array
			if = { 
				limit = { check_variable = { THIS.previous_election_results_ordered^current_pos = v } }
				set_variable = { THIS.previous_election_party_position^i = current_pos }
				set_temp_variable = { break2 = 1 }
			}
			else = {
				#Current position is greater than our party -> Look to the right
				if = {
					limit = { check_variable = { THIS.previous_election_results_ordered^current_pos > v } }
					set_variable = { low = current_pos }
					add_to_variable = { low = 1 }
				}
				#Current position is less than our party -> Look to the left
				else = {
					set_variable = { high = current_pos }
					subtract_from_variable = { high = 1 }
				}
				
				set_variable = { current_pos = high }
				subtract_from_variable = { current_pos = low }
				divide_variable = { current_pos = 2 }
				round_variable  = current_pos
				add_to_variable = { current_pos = low }
			}
		}
		
		clear_variable = low
		clear_variable = high
		clear_variable = current_pos
	}
	
	clear_array = THIS.previous_election_results_ordered
	
	resize_array = { array = THIS.previous_election_position_party value = 0 size = THIS.previous_election_results^num }
	
	for_each_loop = {
		array = THIS.previous_election_party_position
		value = v
		index = i
		break = break
		
		set_variable = { THIS.previous_election_position_party^v = i }
	}
}

STATE_get_party_popularity_variable = {
	if = {
		limit = { check_variable = { SLO.SLO_electoral_map_gui_selected_results = SLO } }
		
		#Index of the most popular party times 10
		set_variable = { THIS.previous_election_victor_popularity = THIS.previous_election_position_party^0 }
		multiply_variable = { THIS.previous_election_victor_popularity = 14 }
		
		#Get the margin of victory over the second most popular party
		set_variable = { indx1 = THIS.previous_election_position_party^0 }
		set_variable = { most_popular_party_percentage = THIS.previous_election_results^indx1 }
		
		set_variable = { indx2 = THIS.previous_election_position_party^1 }
		set_variable = { second_most_popular_party_percentage = THIS.previous_election_results^indx2 }
		
		set_variable = { margin_of_victory = most_popular_party_percentage }
		subtract_from_variable = { margin_of_victory = second_most_popular_party_percentage }
		set_variable = { THIS.previous_election_margin_of_victory = margin_of_victory }
		
		divide_variable = { margin_of_victory = 2000 }				#2% increments
		multiply_variable = { margin_of_victory = 1000 }
		clamp_variable = { var = margin_of_victory min = 0 max = 13 }
		
		add_to_variable = { THIS.previous_election_victor_popularity = margin_of_victory }
		
		clear_variable = margin_of_victory
		clear_variable = most_popular_party_percentage
		clear_variable = second_most_popular_party_percentage
		clear_variable = indx1
		clear_variable = indx2
	}
	else = {
		set_variable = { party_vote = THIS.previous_election_results^SLO.SLO_electoral_map_gui_selected_results }
		
		set_variable = { THIS.previous_election_victor_popularity = SLO.SLO_electoral_map_gui_selected_results }
		multiply_variable = { THIS.previous_election_victor_popularity = 14 }
		
		divide_variable = { party_vote = 4000 }				#4% increments
		multiply_variable = { party_vote = 1000 }
		clamp_variable = { var = party_vote min = 0 max = 13 }
		
		add_to_variable = { THIS.previous_election_victor_popularity = party_vote }
		
		clear_variable = party_vote
	}
}

SLO_update_state_colour_map = {
	for_each_scope_loop = {
		array = SLO.previous_election_states
		
		STATE_get_party_popularity_variable = yes
	}
}

STATE_get_party_seats = {
	#Seats left to give out
	set_variable = { THIS.seats_remaining = THIS.seat_count }
	
	#Current divisors - Get two so we can divide the first one and reference the second
	clear_array = THIS.divisor_array
	resize_array = { array = THIS.divisor_array value = 0 size = THIS.previous_election_results^num }
	clear_array = THIS.divisor_array_backup
	resize_array = { array = THIS.divisor_array_backup value = 0 size = THIS.previous_election_results^num }
	
	#Eliminate parties that don't meet the threshold
	for_each_loop = {
		array = THIS.previous_election_results
		value = v
		index = i
		
		if = { 
			limit = { check_variable = { var = v value = SLO.parliament_threshold compare = greater_than_or_equals } }
			set_variable = { THIS.divisor_array^i = v }
			set_variable = { THIS.divisor_array_backup^i = v }
		}
	}
	
	clear_array = THIS.seat_array
	resize_array = { array = THIS.seat_array value = 0 size = THIS.previous_election_results^num }
	
	#Implement the D'Hondt method
	while_loop_effect = {
		limit = { check_variable = { THIS.seats_remaining > 0 } }
		
		find_highest_in_array = {
			array = THIS.divisor_array
			value = temp_value
			index = temp_index
		}

		add_to_variable = { THIS.seat_array^temp_index = 1 }
		subtract_from_variable = { THIS.seats_remaining = 1 }
		
		set_variable = { THIS.divisor_array^temp_index = THIS.divisor_array_backup^temp_index }
		set_temp_variable = { divisor = THIS.seat_array^temp_index }
		add_to_temp_variable = { divisor = 1 }
		divide_variable = { THIS.divisor_array^temp_index = divisor }
	}
	
	clear_variable = THIS.seats_remaining
	clear_array = THIS.divisor_array
	clear_array = THIS.divisor_array_backup
	
	#seat_array is used for parliament, previous_election_seat_array is used for the election map. As we have just held the election, they will be the same
	clear_array = THIS.previous_election_seat_array
	resize_array = { array = THIS.previous_election_seat_array value = 0 size = THIS.seat_array^num }
	
	for_each_loop = {
		array = THIS.seat_array
		value = v
		index = i
		
		set_variable = { THIS.previous_election_seat_array^i = v }
	}
}

STATE_set_popularities_to_100 = {
	#Set the results equal to 100%
	set_variable = { total = 0 }
	for_loop_effect = {
		end = THIS.party_popularity^num
		value = v
		
		clamp_variable = { var = THIS.party_popularity^v min = 0 max = 100 }
		add_to_variable = { total = THIS.party_popularity^v }
	}
	
	set_variable = { mult = 100 }
	divide_variable = { mult = total }
	for_loop_effect = {
		end = THIS.party_popularity^num
		value = v
		
		multiply_variable = { THIS.party_popularity^v = mult }
	}
	
	clear_variable = total
	clear_variable = mult
}

SLO_get_national_results = {
	#Compile the state results to get national results
	set_variable = { SLO.previous_election_turnout = 0 }
	clear_array = SLO.previous_election_results
	resize_array = { array = SLO.previous_election_results value = 0 size = 70.party_popularity^num }
	clear_array = SLO.previous_election_votes
	resize_array = { array = SLO.previous_election_votes value = 0 size = 70.party_popularity^num }
	
	set_variable = { SLO.total_pop = 0 }
	
	for_each_scope_loop = {
		array = SLO.election_states
		
		if = {
			limit = { check_variable = { SLO.parliament_level = 0 } }
			
			add_to_variable = { SLO.total_pop = THIS.state_population_k }
		}
		else = {
			for_each_scope_loop = {
				array = THIS.subdivision_states
				
				add_to_variable = { SLO.total_pop = THIS.state_population_k }
			}
		}
	}
	
	#Get votes and percentages
	for_each_scope_loop = {
		array = SLO.election_states
		
		set_variable = { mult = 0 }
		
		if = {
			limit = { check_variable = { SLO.parliament_level = 0 } }
			
			add_to_variable = { mult = THIS.state_population_k }
		}
		else = {
			for_each_scope_loop = {
				array = THIS.subdivision_states
				
				add_to_variable = { PREV.mult = THIS.state_population_k }
			}
		}
		
		multiply_variable = { mult = 10 }			#More accuracy
		divide_variable = { mult = SLO.total_pop }
		

		for_each_loop = {
			array = THIS.previous_election_results
			index = i
			value = v
			
			set_variable = { tmp = v }
			multiply_variable = { tmp = mult }
			add_to_variable = { SLO.previous_election_results^i = tmp }
			clear_variable = tmp
		}
		
		
		for_each_loop = {
			array = THIS.previous_election_votes
			index = i
			value = v
			
			add_to_variable = { SLO.previous_election_votes^i = v }
		}
		
		clear_variable = mult
	}
	
	#Get turnout
	set_variable = { SLO.previous_election_total_votes = 0 }
	for_each_loop = {
		array = SLO.previous_election_votes
		index = i
		value = v
		
		add_to_variable = { SLO.previous_election_total_votes = v }
	}
	
	set_variable = { SLO.previous_election_turnout = SLO.previous_election_total_votes }
	set_variable = { oneOverVotingPop = 1 }
	divide_variable = { oneOverVotingPop = SLO.voting_population_multiplier }
	multiply_variable = { SLO.previous_election_turnout = oneOverVotingPop }
	clear_variable = oneOverVotingPop
	divide_variable = { SLO.previous_election_turnout = SLO.total_pop }
	
	clear_variable = SLO.total_pop
	
	for_loop_effect = {
		end = SLO.previous_election_results^num
		value = v
		
		divide_variable = { SLO.previous_election_results^v = 10 }
	}
	
	#Get national seat count
	clear_array = SLO.seat_array
	resize_array = { array = SLO.seat_array value = 0 size = SLO.previous_election_results^num }
	clear_array = SLO.previous_election_seat_array
	resize_array = { array = SLO.previous_election_seat_array value = 0 size = SLO.previous_election_results^num }
	
	
	for_each_scope_loop = {
		array = SLO.election_states
		
		for_each_loop = {
			array = THIS.seat_array			#could be seat_array or previous_election_seat_array, as they are the same right now
			value = v
			index = i
			
			add_to_variable = { SLO.seat_array^i = v }
		}
	}
	
	#Quicker to copy it than add the same variable twice
	for_each_loop = {
		array = SLO.seat_array
		value = v
		index = i
		
		set_variable = { SLO.previous_election_seat_array^i = v }
	}
	
	#We now have the national results - order them	
	clear_array = SLO.previous_election_results_ordered
	clear_array = SLO.previous_election_party_position
	clear_array = SLO.previous_election_position_party
	
	#Boilerplate code for quicksort
	clear_array = arr
	resize_array = { array = arr size = SLO.previous_election_results^num value = 0 }
	
	for_each_loop = {
		array = SLO.previous_election_results
		value = v
		index = i
		
		set_variable = { arr^i = v }
	}

	set_variable = { high = arr^num }
	subtract_from_variable = { high = 1 }
	set_variable = { low = 0 }
	
	quicksort = yes
	
	#Make a descending array
	resize_array = { array = SLO.previous_election_results_ordered value = 0 size = arr^num }
	
	for_each_loop = {
		array = arr
		value = v
		index = i
		
		set_temp_variable = { t = arr^num }
		subtract_from_temp_variable = { t = i }
		subtract_from_temp_variable = { t = 1 }
		
		set_variable = { SLO.previous_election_results_ordered^t = v }
	}

	
	clear_array = arr
	clear_variable = high
	clear_variable = low
	
	
	#Get party positions, use binary search on the ordered array
	resize_array = { array = SLO.previous_election_party_position value = 0 size = SLO.previous_election_results^num }
	
	for_each_loop = {
		array = SLO.previous_election_results
		value = v
		index = i
		break = break
		
		#Use variables high and low to get the range of the array we are looking at
		set_variable = { low = 0 }
		set_variable = { high = SLO.previous_election_results^num }
		subtract_from_variable = { high = 1 }
		
		set_variable = { current_pos = high }
		divide_variable = { current_pos = 2 }
		round_variable = current_pos
		
		for_loop_effect = {
			end = SLO.previous_election_results^num
			value = v2
			break = break2
			
			#If we have found the position, break the array
			if = { 
				limit = { check_variable = { SLO.previous_election_results_ordered^current_pos = v } }
				set_variable = { SLO.previous_election_party_position^i = current_pos }
				set_temp_variable = { break2 = 1 }
			}
			else = {
				#Current position is greater than our party -> Look to the right
				if = {
					limit = { check_variable = { SLO.previous_election_results_ordered^current_pos > v } }
					set_variable = { low = current_pos }
					add_to_variable = { low = 1 }
				}
				#Current position is less than our party -> Look to the left
				else = {
					set_variable = { high = current_pos }
					subtract_from_variable = { high = 1 }
				}
				
				set_variable = { current_pos = high }
				subtract_from_variable = { current_pos = low }
				divide_variable = { current_pos = 2 }
				round_variable  = current_pos
				add_to_variable = { current_pos = low }
			}
		}
		
		clear_variable = low
		clear_variable = high
		clear_variable = current_pos
	}
	
	clear_array = SLO.previous_election_results_ordered
	
	resize_array = { array = SLO.previous_election_position_party value = 0 size = SLO.previous_election_results^num }
	
	for_each_loop = {
		array = SLO.previous_election_party_position
		value = v
		index = i
		break = break
		
		set_variable = { SLO.previous_election_position_party^v = i }
	}
	
	
	#Same as before but now do seats instead of votes
	clear_array = SLO.previous_election_results_ordered
	clear_array = SLO.previous_election_party_position_seats
	clear_array = SLO.previous_election_position_party_seats
	
	#Boilerplate code for quicksort
	clear_array = arr
	resize_array = { array = arr size = SLO.previous_election_results^num value = 0 }
	
	for_each_loop = {
		array = SLO.previous_election_results
		value = v
		index = i
		
		set_variable = { arr^i = v }
	}

	set_variable = { high = arr^num }
	subtract_from_variable = { high = 1 }
	set_variable = { low = 0 }
	
	quicksort = yes
	
	#Make a descending array
	resize_array = { array = SLO.previous_election_results_ordered value = 0 size = arr^num }
	
	for_each_loop = {
		array = arr
		value = v
		index = i
		
		set_temp_variable = { t = arr^num }
		subtract_from_temp_variable = { t = i }
		subtract_from_temp_variable = { t = 1 }
		
		set_variable = { SLO.previous_election_results_ordered^t = v }
	}

	
	clear_array = arr
	clear_variable = high
	clear_variable = low
	
	
	#Get party positions, use binary search on the ordered array
	resize_array = { array = SLO.previous_election_party_position_seats value = 0 size = SLO.previous_election_results^num }
	
	for_each_loop = {
		array = SLO.previous_election_results
		value = v
		index = i
		break = break
		
		#Use variables high and low to get the range of the array we are looking at
		set_variable = { low = 0 }
		set_variable = { high = SLO.previous_election_results^num }
		subtract_from_variable = { high = 1 }
		
		set_variable = { current_pos = high }
		divide_variable = { current_pos = 2 }
		round_variable = current_pos
		
		for_loop_effect = {
			end = SLO.previous_election_results^num
			value = v2
			break = break2
			
			#If we have found the position, break the array
			if = { 
				limit = { check_variable = { SLO.previous_election_results_ordered^current_pos = v } }
				set_variable = { SLO.previous_election_party_position_seats^i = current_pos }
				set_temp_variable = { break2 = 1 }
			}
			else = {
				#Current position is greater than our party -> Look to the right
				if = {
					limit = { check_variable = { SLO.previous_election_results_ordered^current_pos > v } }
					set_variable = { low = current_pos }
					add_to_variable = { low = 1 }
				}
				#Current position is less than our party -> Look to the left
				else = {
					set_variable = { high = current_pos }
					subtract_from_variable = { high = 1 }
				}
				
				set_variable = { current_pos = high }
				subtract_from_variable = { current_pos = low }
				divide_variable = { current_pos = 2 }
				round_variable  = current_pos
				add_to_variable = { current_pos = low }
			}
		}
		
		clear_variable = low
		clear_variable = high
		clear_variable = current_pos
	}
	
	clear_array = SLO.previous_election_results_ordered
	
	resize_array = { array = SLO.previous_election_position_party_seats value = 0 size = SLO.previous_election_results^num }
	
	for_each_loop = {
		array = SLO.previous_election_party_position_seats
		value = v
		index = i
		break = break
		
		set_variable = { SLO.previous_election_position_party_seats^v = i }
	}
	
	#Get the national margin of victory
	set_variable = { indx1 = SLO.previous_election_position_party^0 }
	set_variable = { most_popular_party_percentage = SLO.previous_election_results^indx1 }
	
	set_variable = { indx2 = SLO.previous_election_position_party^1 }
	set_variable = { second_most_popular_party_percentage = SLO.previous_election_results^indx2 }
	
	set_variable = { margin_of_victory = most_popular_party_percentage }
	subtract_from_variable = { margin_of_victory = second_most_popular_party_percentage }
	set_variable = { SLO.previous_election_margin_of_victory = margin_of_victory }
	
	clear_variable = margin_of_victory
	clear_variable = most_popular_party_percentage
	clear_variable = second_most_popular_party_percentage
	clear_variable = indx1
	clear_variable = indx2
}

SLO_get_active_election_states = {
	if = {  
		limit = { check_variable = { SLO.parliament_level = 1 } }
		
		clear_array = SLO.election_states
		
		#I tried doing a for_each_scope_loop but that wasn't working, oh well meta effects it is.
		for_each_loop = {
			array = SLO.subdivision_states
			index = i
			value = v
			
			meta_effect = {
				text = {
					if = {
						limit = { [STATE_ID] = { is_owned_and_controlled_by = SLO is_core_of = SLO } }
						add_to_array = { SLO.election_states = v }
					}
				}
				
				STATE_ID = "[?v|.0]"
			}
		}
	}
}

SLO_get_map_positions = {
	if = {  
		limit = { check_variable = { SLO.parliament_level = 1 } }
		#Get the bounding box of our map
		set_variable = { top_x = 828 }
		set_variable = { top_y = 435 }
		set_variable = { bottom_x = 0 }
		set_variable = { bottom_y = 0 }
		
		for_each_scope_loop = {
			array = SLO.election_states
	
			if = { 
				limit = { check_variable = { x0 < PREV.top_x } }
				set_variable = { PREV.top_x = x0 }
			}
			if = { 
				limit = { check_variable = { x1 > PREV.bottom_x } }
				set_variable = { PREV.bottom_x = x1 }
			}
			
			if = { 
				limit = { check_variable = { y0 < PREV.top_y } }
				set_variable = { PREV.top_y = y0 }
			}
			if = { 
				limit = { check_variable = { y1 > PREV.bottom_y } }
				set_variable = { PREV.bottom_y = y1 }
			}
		}
		
		#We now have our bounding box, work out the offset
		set_variable = { offset_x = bottom_x }
		subtract_from_variable = { offset_x = top_x }
		divide_variable = { offset_x = 2 }
		add_to_variable = { offset_x = top_x }
		multiply_variable = { offset_x = -1 }
		add_to_variable = { offset_x = 414 }
		round_variable = offset_x
		
		set_variable = { offset_y = bottom_y }
		subtract_from_variable = { offset_y = top_y }
		divide_variable = { offset_y = 2 }
		add_to_variable = { offset_y = top_y }
		multiply_variable = { offset_y = -1 }
		add_to_variable = { offset_y = 217.5 }
		round_variable = offset_y
		
		for_each_scope_loop = {
			array = SLO.election_states
	
			set_variable = { THIS.x_pos = x0 }
			add_to_variable = { THIS.x_pos = PREV.offset_x }
			
			set_variable = { THIS.y_pos = y0 }
			add_to_variable = { THIS.y_pos = PREV.offset_y }
		}
		
		clear_variable = top_x
		clear_variable = top_y
		clear_variable = bottom_x
		clear_variable = bottom_y
		clear_variable = offset_x
		clear_variable = offset_y
	}
}

SLO_divide_seats = {
	#SLO.seat_count is how many seats there are in parliament
	#SLO.parliament_level is 0 if we are on Slovakia, 1 if we are doing Europe
	
	if = {
		limit = { check_variable = { SLO.parliament_level = 0 } }
		
		#No need to calculate, as we know the populations and states already
		set_variable = { 70.seat_count = 74 }
		set_variable = { 71.seat_count = 72 }
		set_variable = { 73.seat_count = 52 }
		set_variable = { 664.seat_count = 52 }
	}
	else = {
		#Seats left to give out
		set_variable = { SLO.seats_remaining = SLO.seat_count }
		subtract_from_variable = { SLO.seats_remaining = SLO.election_states^num }		#Give every state one seat as a minimum
		
		#Current divisors - Get two so we can divide the first one and reference the second
		clear_array = SLO.divisor_array
		resize_array = { array = SLO.divisor_array value = 0 size = SLO.election_states^num }
		clear_array = SLO.divisor_array_backup
		resize_array = { array = SLO.divisor_array_backup value = 0 size = SLO.election_states^num }
		set_variable = { SLO.indx = 0 }
		
		#Get the divisors
		for_each_scope_loop = {
			array = SLO.election_states
	
			set_variable = { THIS.seat_count = 1 }	
			#subtract_from_variable = { SLO.seats_remaining = 1 }
			
			for_each_scope_loop = {
				array = THIS.subdivision_states
				
				add_to_variable = { SLO.divisor_array^SLO.indx = THIS.state_population_k }
				add_to_variable = { SLO.divisor_array_backup^SLO.indx = THIS.state_population_k }
			}
			
			#log = "[?SLO.election_states^SLO.indx]: [?SLO.divisor_array^SLO.indx]"
			
			add_to_variable = { SLO.indx = 1 }
		}
		
		#Now we do the D'Hondt method to divide the seats between our states
		while_loop_effect = {
			limit = { check_variable = { SLO.seats_remaining > 0 } }
			
			find_highest_in_array = {
				array = SLO.divisor_array
				value = temp_value
				index = temp_index
			}
			#log = "[?temp_index]"
			
			
			#Add 1 to the largest state's seat count
			set_variable = { state = SLO.election_states^temp_index }
			
			#Need to scope like this because using var:state.seat_count doesn't work for some reason
			var:state = { 
				add_to_variable = { seat_count = 1 } 
				subtract_from_variable = { SLO.seats_remaining = 1 }
				
				#Because every seat count starts at one, we don't need to add one, we can just divide it by it's seat count
				set_variable = { SLO.divisor_array^temp_index = SLO.divisor_array_backup^temp_index }
				divide_variable = { SLO.divisor_array^temp_index = seat_count }
			}
			clear_variable = state
		}

		clear_variable = SLO.seats_remaining
		clear_variable = SLO.indx
		clear_array = SLO.divisor_array
		clear_array = SLO.divisor_array_backup
	}
}

SLO_start_campaign = {
	if = { 
		limit = { 		#Check to see if last election was Slovakia but this one is Europe
			check_variable = { SLO.parliament_level = 1 }
			664 = { has_variable = x0 }
		}		
		SLO_update_GFX_SLO_to_Europe = yes
		set_variable = { SLO.seat_count = 750 }
		set_variable = { SLO.seats_needed_for_majority = 376 }
		set_variable = { SLO.gui_party_dot_entry_size = 12 }
		set_variable = { SLO.gui_bottom_y_pos = 264 }
		
		if = {
			limit = { 
				OR = {
					check_variable = { SLO.SLO_electoral_map_selected_state = 71 }
					check_variable = { SLO.SLO_electoral_map_selected_state = 73 }
					check_variable = { SLO.SLO_electoral_map_selected_state = 664 }
				}
			}
			set_variable = { SLO.SLO_electoral_map_selected_state = SLO }
		}
	}
	
	set_country_flag = SLO_campaign_season_underway_flag
	country_event = { id = slovakia_hidden.2 days = 1 }			#Start oppostion campaigns
	SLO_get_active_election_states = yes						#States to campaign in 
	
	SLO_divide_seats = yes 										#Get the no of seats per election state
	
	country_event = { id = slovakia_elections.1 hours = 4 }		#Party to campaign as
	activate_mission = SLO_countdown_to_election
}

SLO_hold_election = {
	clr_country_flag = SLO_campaign_season_underway_flag
	hold_election = ROOT
	
	clr_country_flag = SLO_has_held_an_election_flag
	set_country_flag = SLO_has_held_an_election_flag
	
	#Get the states for this election and their map positions (only has an effect if we are Europe)
	
	clear_array = SLO.previous_election_states
	resize_array = { array = SLO.previous_election_states size = SLO.election_states^num value = 0 }
	for_each_loop = {
		array = SLO.election_states
		value = v
		index = i
		
		set_variable = { SLO.previous_election_states^i = v }
	}
	if = {
		limit = { check_variable = { SLO.parliament_level = 1 } }
		SLO_get_map_positions = yes
	}
	
	for_each_scope_loop = {
		array = SLO.election_states
		
		#Randomise the popularities and then get the results
		STATE_randomise_party_popularity_and_get_results = yes
		STATE_get_ordered_results = yes
		
		#Get seats
		STATE_get_party_seats = yes
		STATE_get_party_popularity_variable = yes
		set_variable = { THIS.previous_election_seat_count = THIS.seat_count }
	}
	
	#Get the national results
	SLO = { 
		SLO_get_national_results = yes 
		
		#Get the date
		set_variable = { SLO.previous_election_date = global.date }
		
		#Form a government
		SLO_get_possible_governments = yes
		
		if = {
			limit = { NOT = { has_country_flag = SLO_parliament_is_active_flag } }
			set_country_flag = SLO_parliament_is_active_flag
		}
	}
}

SLO_change_language = {
	if = {
		limit = { check_variable = { SLO.parliament_level = 0 } }
		if = {
			limit = { check_variable = { SLO.language = 0 } }
			
			set_variable = { SLO.party_names_long_no_colour_array^0 = token:SLO_communist_party_long_no_colour_LANG_ENG_idea }
			set_variable = { SLO.party_names_long_no_colour_array^1 = token:SLO_soc_dem_party_long_no_colour_LANG_ENG_idea }
			set_variable = { SLO.party_names_long_no_colour_array^2 = token:SLO_liberal_party_long_no_colour_LANG_ENG_idea }
			set_variable = { SLO.party_names_long_no_colour_array^3 = token:SLO_conservative_party_long_no_colour_LANG_ENG_idea }
			set_variable = { SLO.party_names_long_no_colour_array^4 = token:SLO_nationalist_party_long_no_colour_LANG_ENG_idea }
			set_variable = { SLO.party_names_long_no_colour_array^5 = token:SLO_fascist_party_long_no_colour_LANG_ENG_idea }
			set_variable = { SLO.party_names_long_no_colour_array^6 = token:SLO_non_aligned_other_party_long_no_colour_LANG_ENG_idea }
			
			set_variable = { SLO.party_names_long_coloured_array^0 = token:SLO_communist_party_long_coloured_LANG_ENG_idea }
			set_variable = { SLO.party_names_long_coloured_array^1 = token:SLO_soc_dem_party_long_coloured_LANG_ENG_idea }
			set_variable = { SLO.party_names_long_coloured_array^2 = token:SLO_liberal_party_long_coloured_LANG_ENG_idea }
			set_variable = { SLO.party_names_long_coloured_array^3 = token:SLO_conservative_party_long_coloured_LANG_ENG_idea }
			set_variable = { SLO.party_names_long_coloured_array^4 = token:SLO_nationalist_party_long_coloured_LANG_ENG_idea }
			set_variable = { SLO.party_names_long_coloured_array^5 = token:SLO_fascist_party_long_coloured_LANG_ENG_idea }
			set_variable = { SLO.party_names_long_coloured_array^6 = token:SLO_non_aligned_other_party_long_coloured_LANG_ENG_idea }
			
			set_variable = { SLO.party_names_short_no_colour_array^0 = token:SLO_communist_party_short_no_colour_LANG_ENG_idea }
			set_variable = { SLO.party_names_short_no_colour_array^1 = token:SLO_soc_dem_party_short_no_colour_LANG_ENG_idea }
			set_variable = { SLO.party_names_short_no_colour_array^2 = token:SLO_liberal_party_short_no_colour_LANG_ENG_idea }
			set_variable = { SLO.party_names_short_no_colour_array^3 = token:SLO_conservative_party_short_no_colour_LANG_ENG_idea }
			set_variable = { SLO.party_names_short_no_colour_array^4 = token:SLO_nationalist_party_short_no_colour_LANG_ENG_idea }
			set_variable = { SLO.party_names_short_no_colour_array^5 = token:SLO_fascist_party_short_no_colour_LANG_ENG_idea }
			set_variable = { SLO.party_names_short_no_colour_array^6 = token:SLO_non_aligned_other_party_short_no_colour_LANG_ENG_idea }
			
			set_variable = { SLO.party_names_short_coloured_array^0 = token:SLO_communist_party_short_coloured_LANG_ENG_idea }
			set_variable = { SLO.party_names_short_coloured_array^1 = token:SLO_soc_dem_party_short_coloured_LANG_ENG_idea }
			set_variable = { SLO.party_names_short_coloured_array^2 = token:SLO_liberal_party_short_coloured_LANG_ENG_idea }
			set_variable = { SLO.party_names_short_coloured_array^3 = token:SLO_conservative_party_short_coloured_LANG_ENG_idea }
			set_variable = { SLO.party_names_short_coloured_array^4 = token:SLO_nationalist_party_short_coloured_LANG_ENG_idea }
			set_variable = { SLO.party_names_short_coloured_array^5 = token:SLO_fascist_party_short_coloured_LANG_ENG_idea }
			set_variable = { SLO.party_names_short_coloured_array^6 = token:SLO_non_aligned_other_party_short_coloured_LANG_ENG_idea }
			
			set_variable = { 70.name_token = token:SLO_NAME_elections_slovakia_70_LANG_ENG_idea }
			set_variable = { 71.name_token = token:SLO_NAME_elections_slovakia_71_LANG_ENG_idea }
			set_variable = { 73.name_token = token:SLO_NAME_elections_slovakia_73_LANG_ENG_idea }
			set_variable = { 664.name_token = token:SLO_NAME_elections_slovakia_664_LANG_ENG_idea }
			
			set_variable = { SLO.language = 1 }
		}
		else = {
			set_variable = { SLO.party_names_long_no_colour_array^0 = token:SLO_communist_party_long_no_colour_LANG_SLO_idea }
			set_variable = { SLO.party_names_long_no_colour_array^1 = token:SLO_soc_dem_party_long_no_colour_LANG_SLO_idea }
			set_variable = { SLO.party_names_long_no_colour_array^2 = token:SLO_liberal_party_long_no_colour_LANG_SLO_idea }
			set_variable = { SLO.party_names_long_no_colour_array^3 = token:SLO_conservative_party_long_no_colour_LANG_SLO_idea }
			set_variable = { SLO.party_names_long_no_colour_array^4 = token:SLO_nationalist_party_long_no_colour_LANG_SLO_idea }
			set_variable = { SLO.party_names_long_no_colour_array^5 = token:SLO_fascist_party_long_no_colour_LANG_SLO_idea }
			set_variable = { SLO.party_names_long_no_colour_array^6 = token:SLO_non_aligned_other_party_long_no_colour_LANG_SLO_idea }
			
			set_variable = { SLO.party_names_long_coloured_array^0 = token:SLO_communist_party_long_coloured_LANG_SLO_idea }
			set_variable = { SLO.party_names_long_coloured_array^1 = token:SLO_soc_dem_party_long_coloured_LANG_SLO_idea }
			set_variable = { SLO.party_names_long_coloured_array^2 = token:SLO_liberal_party_long_coloured_LANG_SLO_idea }
			set_variable = { SLO.party_names_long_coloured_array^3 = token:SLO_conservative_party_long_coloured_LANG_SLO_idea }
			set_variable = { SLO.party_names_long_coloured_array^4 = token:SLO_nationalist_party_long_coloured_LANG_SLO_idea }
			set_variable = { SLO.party_names_long_coloured_array^5 = token:SLO_fascist_party_long_coloured_LANG_SLO_idea }
			set_variable = { SLO.party_names_long_coloured_array^6 = token:SLO_non_aligned_other_party_long_coloured_LANG_SLO_idea }
			
			set_variable = { SLO.party_names_short_no_colour_array^0 = token:SLO_communist_party_short_no_colour_LANG_SLO_idea }
			set_variable = { SLO.party_names_short_no_colour_array^1 = token:SLO_soc_dem_party_short_no_colour_LANG_SLO_idea }
			set_variable = { SLO.party_names_short_no_colour_array^2 = token:SLO_liberal_party_short_no_colour_LANG_SLO_idea }
			set_variable = { SLO.party_names_short_no_colour_array^3 = token:SLO_conservative_party_short_no_colour_LANG_SLO_idea }
			set_variable = { SLO.party_names_short_no_colour_array^4 = token:SLO_nationalist_party_short_no_colour_LANG_SLO_idea }
			set_variable = { SLO.party_names_short_no_colour_array^5 = token:SLO_fascist_party_short_no_colour_LANG_SLO_idea }
			set_variable = { SLO.party_names_short_no_colour_array^6 = token:SLO_non_aligned_other_party_short_no_colour_LANG_SLO_idea }
			
			set_variable = { SLO.party_names_short_coloured_array^0 = token:SLO_communist_party_short_coloured_LANG_SLO_idea }
			set_variable = { SLO.party_names_short_coloured_array^1 = token:SLO_soc_dem_party_short_coloured_LANG_SLO_idea }
			set_variable = { SLO.party_names_short_coloured_array^2 = token:SLO_liberal_party_short_coloured_LANG_SLO_idea }
			set_variable = { SLO.party_names_short_coloured_array^3 = token:SLO_conservative_party_short_coloured_LANG_SLO_idea }
			set_variable = { SLO.party_names_short_coloured_array^4 = token:SLO_nationalist_party_short_coloured_LANG_SLO_idea }
			set_variable = { SLO.party_names_short_coloured_array^5 = token:SLO_fascist_party_short_coloured_LANG_SLO_idea }
			set_variable = { SLO.party_names_short_coloured_array^6 = token:SLO_non_aligned_other_party_short_coloured_LANG_SLO_idea }
			
			set_variable = { 70.name_token = token:SLO_NAME_elections_slovakia_70_LANG_SLO_idea }
			set_variable = { 71.name_token = token:SLO_NAME_elections_slovakia_71_LANG_SLO_idea }
			set_variable = { 73.name_token = token:SLO_NAME_elections_slovakia_73_LANG_SLO_idea }
			set_variable = { 664.name_token = token:SLO_NAME_elections_slovakia_664_LANG_SLO_idea }
			
			set_variable = { SLO.language = 0 }
		}
	}
	else = {
		if = {
			limit = { check_variable = { SLO.language = 0 } }
			
			set_variable = { SLO.party_names_long_no_colour_array^0 = token:EUROPE_communist_party_long_no_colour_LANG_ENG_idea }
			set_variable = { SLO.party_names_long_no_colour_array^1 = token:EUROPE_soc_dem_party_long_no_colour_LANG_ENG_idea }
			set_variable = { SLO.party_names_long_no_colour_array^2 = token:EUROPE_liberal_party_long_no_colour_LANG_ENG_idea }
			set_variable = { SLO.party_names_long_no_colour_array^3 = token:EUROPE_conservative_party_long_no_colour_LANG_ENG_idea }
			set_variable = { SLO.party_names_long_no_colour_array^4 = token:EUROPE_nationalist_party_long_no_colour_LANG_ENG_idea }
			set_variable = { SLO.party_names_long_no_colour_array^5 = token:EUROPE_fascist_party_long_no_colour_LANG_ENG_idea }
			set_variable = { SLO.party_names_long_no_colour_array^6 = token:EUROPE_non_aligned_other_party_long_no_colour_LANG_ENG_idea }
			
			set_variable = { SLO.party_names_long_coloured_array^0 = token:EUROPE_communist_party_long_coloured_LANG_ENG_idea }
			set_variable = { SLO.party_names_long_coloured_array^1 = token:EUROPE_soc_dem_party_long_coloured_LANG_ENG_idea }
			set_variable = { SLO.party_names_long_coloured_array^2 = token:EUROPE_liberal_party_long_coloured_LANG_ENG_idea }
			set_variable = { SLO.party_names_long_coloured_array^3 = token:EUROPE_conservative_party_long_coloured_LANG_ENG_idea }
			set_variable = { SLO.party_names_long_coloured_array^4 = token:EUROPE_nationalist_party_long_coloured_LANG_ENG_idea }
			set_variable = { SLO.party_names_long_coloured_array^5 = token:EUROPE_fascist_party_long_coloured_LANG_ENG_idea }
			set_variable = { SLO.party_names_long_coloured_array^6 = token:EUROPE_non_aligned_other_party_long_coloured_LANG_ENG_idea }
			
			set_variable = { SLO.party_names_short_no_colour_array^0 = token:EUROPE_communist_party_short_no_colour_LANG_ENG_idea }
			set_variable = { SLO.party_names_short_no_colour_array^1 = token:EUROPE_soc_dem_party_short_no_colour_LANG_ENG_idea }
			set_variable = { SLO.party_names_short_no_colour_array^2 = token:EUROPE_liberal_party_short_no_colour_LANG_ENG_idea }
			set_variable = { SLO.party_names_short_no_colour_array^3 = token:EUROPE_conservative_party_short_no_colour_LANG_ENG_idea }
			set_variable = { SLO.party_names_short_no_colour_array^4 = token:EUROPE_nationalist_party_short_no_colour_LANG_ENG_idea }
			set_variable = { SLO.party_names_short_no_colour_array^5 = token:EUROPE_fascist_party_short_no_colour_LANG_ENG_idea }
			set_variable = { SLO.party_names_short_no_colour_array^6 = token:EUROPE_non_aligned_other_party_short_no_colour_LANG_ENG_idea }
			
			set_variable = { SLO.party_names_short_coloured_array^0 = token:EUROPE_communist_party_short_coloured_LANG_ENG_idea }
			set_variable = { SLO.party_names_short_coloured_array^1 = token:EUROPE_soc_dem_party_short_coloured_LANG_ENG_idea }
			set_variable = { SLO.party_names_short_coloured_array^2 = token:EUROPE_liberal_party_short_coloured_LANG_ENG_idea }
			set_variable = { SLO.party_names_short_coloured_array^3 = token:EUROPE_conservative_party_short_coloured_LANG_ENG_idea }
			set_variable = { SLO.party_names_short_coloured_array^4 = token:EUROPE_nationalist_party_short_coloured_LANG_ENG_idea }
			set_variable = { SLO.party_names_short_coloured_array^5 = token:EUROPE_fascist_party_short_coloured_LANG_ENG_idea }
			set_variable = { SLO.party_names_short_coloured_array^6 = token:EUROPE_non_aligned_other_party_short_coloured_LANG_ENG_idea }
			
			for_each_loop = {
				array = SLO.subdivision_states 
				index = i
				value = v
				
				meta_effect = {
					text = {
						[STATE_ID] = {
							set_variable = { name_token = token:SLO_NAME_elections_europe_[STATE_ID]_LANG_ENG_idea }
						}
					}
					
					STATE_ID = "[?v|.0]"
					debug = yes
				}
			}
			
			set_variable = { SLO.language = 1 }
		}
		else = {
			set_variable = { SLO.party_names_long_no_colour_array^0 = token:EUROPE_communist_party_long_no_colour_LANG_SLO_idea }
			set_variable = { SLO.party_names_long_no_colour_array^1 = token:EUROPE_soc_dem_party_long_no_colour_LANG_SLO_idea }
			set_variable = { SLO.party_names_long_no_colour_array^2 = token:EUROPE_liberal_party_long_no_colour_LANG_SLO_idea }
			set_variable = { SLO.party_names_long_no_colour_array^3 = token:EUROPE_conservative_party_long_no_colour_LANG_SLO_idea }
			set_variable = { SLO.party_names_long_no_colour_array^4 = token:EUROPE_nationalist_party_long_no_colour_LANG_SLO_idea }
			set_variable = { SLO.party_names_long_no_colour_array^5 = token:EUROPE_fascist_party_long_no_colour_LANG_SLO_idea }
			set_variable = { SLO.party_names_long_no_colour_array^6 = token:EUROPE_non_aligned_other_party_long_no_colour_LANG_SLO_idea }
			
			set_variable = { SLO.party_names_long_coloured_array^0 = token:EUROPE_communist_party_long_coloured_LANG_SLO_idea }
			set_variable = { SLO.party_names_long_coloured_array^1 = token:EUROPE_soc_dem_party_long_coloured_LANG_SLO_idea }
			set_variable = { SLO.party_names_long_coloured_array^2 = token:EUROPE_liberal_party_long_coloured_LANG_SLO_idea }
			set_variable = { SLO.party_names_long_coloured_array^3 = token:EUROPE_conservative_party_long_coloured_LANG_SLO_idea }
			set_variable = { SLO.party_names_long_coloured_array^4 = token:EUROPE_nationalist_party_long_coloured_LANG_SLO_idea }
			set_variable = { SLO.party_names_long_coloured_array^5 = token:EUROPE_fascist_party_long_coloured_LANG_SLO_idea }
			set_variable = { SLO.party_names_long_coloured_array^6 = token:EUROPE_non_aligned_other_party_long_coloured_LANG_SLO_idea }
			
			set_variable = { SLO.party_names_short_no_colour_array^0 = token:EUROPE_communist_party_short_no_colour_LANG_SLO_idea }
			set_variable = { SLO.party_names_short_no_colour_array^1 = token:EUROPE_soc_dem_party_short_no_colour_LANG_SLO_idea }
			set_variable = { SLO.party_names_short_no_colour_array^2 = token:EUROPE_liberal_party_short_no_colour_LANG_SLO_idea }
			set_variable = { SLO.party_names_short_no_colour_array^3 = token:EUROPE_conservative_party_short_no_colour_LANG_SLO_idea }
			set_variable = { SLO.party_names_short_no_colour_array^4 = token:EUROPE_nationalist_party_short_no_colour_LANG_SLO_idea }
			set_variable = { SLO.party_names_short_no_colour_array^5 = token:EUROPE_fascist_party_short_no_colour_LANG_SLO_idea }
			set_variable = { SLO.party_names_short_no_colour_array^6 = token:EUROPE_non_aligned_other_party_short_no_colour_LANG_SLO_idea }
			
			set_variable = { SLO.party_names_short_coloured_array^0 = token:EUROPE_communist_party_short_coloured_LANG_SLO_idea }
			set_variable = { SLO.party_names_short_coloured_array^1 = token:EUROPE_soc_dem_party_short_coloured_LANG_SLO_idea }
			set_variable = { SLO.party_names_short_coloured_array^2 = token:EUROPE_liberal_party_short_coloured_LANG_SLO_idea }
			set_variable = { SLO.party_names_short_coloured_array^3 = token:EUROPE_conservative_party_short_coloured_LANG_SLO_idea }
			set_variable = { SLO.party_names_short_coloured_array^4 = token:EUROPE_nationalist_party_short_coloured_LANG_SLO_idea }
			set_variable = { SLO.party_names_short_coloured_array^5 = token:EUROPE_fascist_party_short_coloured_LANG_SLO_idea }
			set_variable = { SLO.party_names_short_coloured_array^6 = token:EUROPE_non_aligned_other_party_short_coloured_LANG_SLO_idea }
			
			for_each_loop = {
				array = SLO.subdivision_states 
				index = i
				value = v
				
				meta_effect = {
					text = {
						[STATE_ID] = {
							set_variable = { name_token = token:SLO_NAME_elections_europe_[STATE_ID]_LANG_SLO_idea }
						}
					}
					
					STATE_ID = "[?v|.0]"
					debug = yes
				}
			}
			
			set_variable = { SLO.language = 0 }
		}
	}
}

SLO_initialise_europe_mechanics = {
	set_variable = { SLO.parliament_level = 1 }
	set_variable = { SLO.campaign_duration = 120 }
	clear_array = SLO.subdivision_states
	
	#North-Atlantic
	add_to_array = { SLO.subdivision_states = 100 }
	clear_array = 100.subdivision_states
	add_to_array = { 100.subdivision_states = 100 }
	add_to_array = { 100.subdivision_states = 101 }
	add_to_array = { 100.subdivision_states = 914 }
	add_to_array = { 100.subdivision_states = 337 }
	clear_array = 100.party_popularity
	resize_array = { array = 100.party_popularity value = 0 size = 7 }
	set_variable = { 100.party_popularity^0 = 1.5 }
	set_variable = { 100.party_popularity^1 = 50 }
	set_variable = { 100.party_popularity^2 = 12 }
	set_variable = { 100.party_popularity^3 = 29.5 }
	set_variable = { 100.party_popularity^4 = 2.5 }
	set_variable = { 100.party_popularity^5 = 1.5 }
	set_variable = { 100.party_popularity^6 = 3 }
	
	#Mid-Atlantic
	add_to_array = { SLO.subdivision_states = 178 }
	clear_array = 178.subdivision_states
	add_to_array = { 178.subdivision_states = 178 }
	add_to_array = { 178.subdivision_states = 697 }
	add_to_array = { 178.subdivision_states = 698 }
	clear_array = 178.party_popularity
	resize_array = { array = 178.party_popularity value = 0 size = 7 }
	set_variable = { 178.party_popularity^0 = 2 }
	set_variable = { 178.party_popularity^1 = 38 }
	set_variable = { 178.party_popularity^2 = 12 }
	set_variable = { 178.party_popularity^3 = 27  }
	set_variable = { 178.party_popularity^4 = 12 }
	set_variable = { 178.party_popularity^5 = 3 }
	set_variable = { 178.party_popularity^6 = 6 }

	#Scotland
	add_to_array = { SLO.subdivision_states = 121 }
	clear_array = 121.subdivision_states
	add_to_array = { 121.subdivision_states = 121 }
	add_to_array = { 121.subdivision_states = 133 }
	add_to_array = { 121.subdivision_states = 136 }
	add_to_array = { 121.subdivision_states = 120 }
	add_to_array = { 121.subdivision_states = 933 }
	clear_array = 121.party_popularity
	resize_array = { array = 121.party_popularity value = 0 size = 7 }
	set_variable = { 121.party_popularity^0 = 1 }
	set_variable = { 121.party_popularity^1 = 34 }
	set_variable = { 121.party_popularity^2 = 12 }
	set_variable = { 121.party_popularity^3 = 46 }
	set_variable = { 121.party_popularity^4 = 4 }
	set_variable = { 121.party_popularity^5 = 1 }
	set_variable = { 121.party_popularity^6 = 2 }
	
	#Ireland
	add_to_array = { SLO.subdivision_states = 113 }
	clear_array = 113.subdivision_states
	add_to_array = { 113.subdivision_states = 113 }
	add_to_array = { 113.subdivision_states = 119 }
	add_to_array = { 113.subdivision_states = 135 }
	add_to_array = { 113.subdivision_states = 134 }
	clear_array = 113.party_popularity
	resize_array = { array = 113.party_popularity value = 0 size = 7 }
	set_variable = { 113.party_popularity^0 = 6 }
	set_variable = { 113.party_popularity^1 = 11 }
	set_variable = { 113.party_popularity^2 = 6 }
	set_variable = { 113.party_popularity^3 = 47 }
	set_variable = { 113.party_popularity^4 = 10 }
	set_variable = { 113.party_popularity^5 = 3 }
	set_variable = { 113.party_popularity^6 = 17 }
	
	#Northern England
	add_to_array = { SLO.subdivision_states = 132 }
	clear_array = 132.subdivision_states
	add_to_array = { 132.subdivision_states = 132 }
	add_to_array = { 132.subdivision_states = 130 }
	add_to_array = { 132.subdivision_states = 131 }
	add_to_array = { 132.subdivision_states = 931 }
	add_to_array = { 132.subdivision_states = 932 }
	clear_array = 132.party_popularity
	resize_array = { array = 132.party_popularity value = 0 size = 7 }
	set_variable = { 132.party_popularity^0 = 2 }
	set_variable = { 132.party_popularity^1 = 48 }
	set_variable = { 132.party_popularity^2 = 5 }
	set_variable = { 132.party_popularity^3 = 40 }
	set_variable = { 132.party_popularity^4 = 2 }
	set_variable = { 132.party_popularity^5 = 1 }
	set_variable = { 132.party_popularity^6 = 2 }
	
	#Midlands and Wales
	add_to_array = { SLO.subdivision_states = 128 }
	clear_array = 128.subdivision_states
	add_to_array = { 128.subdivision_states = 128 }
	add_to_array = { 128.subdivision_states = 122 }
	add_to_array = { 128.subdivision_states = 129 }
	clear_array = 128.party_popularity
	resize_array = { array = 128.party_popularity value = 0 size = 7 }
	set_variable = { 128.party_popularity^0 = 1 }
	set_variable = { 128.party_popularity^1 = 40 }
	set_variable = { 128.party_popularity^2 = 7 }
	set_variable = { 128.party_popularity^3 = 47 }
	set_variable = { 128.party_popularity^4 = 2 }
	set_variable = { 128.party_popularity^5 = 1 }
	set_variable = { 128.party_popularity^6 = 2 }
	
	#Southern England
	add_to_array = { SLO.subdivision_states = 126 }
	clear_array = 126.subdivision_states
	add_to_array = { 126.subdivision_states = 126 }
	add_to_array = { 126.subdivision_states = 129 }
	add_to_array = { 126.subdivision_states = 127 }
	add_to_array = { 126.subdivision_states = 338 }
	add_to_array = { 126.subdivision_states = 123 }
	clear_array = 126.party_popularity
	resize_array = { array = 126.party_popularity value = 0 size = 7 }
	set_variable = { 126.party_popularity^0 = 1 }
	set_variable = { 126.party_popularity^1 = 23 }
	set_variable = { 126.party_popularity^2 = 9 }
	set_variable = { 126.party_popularity^3 = 62 }
	set_variable = { 126.party_popularity^4 = 2.5 }
	set_variable = { 126.party_popularity^5 = 1.5 }
	set_variable = { 126.party_popularity^6 = 1 }
	
	#Denmark
	add_to_array = { SLO.subdivision_states = 37 }
	clear_array = 37.subdivision_states
	add_to_array = { 37.subdivision_states = 37 }
	add_to_array = { 37.subdivision_states = 910 }
	add_to_array = { 37.subdivision_states = 911 }
	add_to_array = { 37.subdivision_states = 912 }
	add_to_array = { 37.subdivision_states = 99 }
	clear_array = 37.party_popularity
	resize_array = { array = 37.party_popularity value = 0 size = 7 }
	set_variable = { 37.party_popularity^0 = 1.5 }
	set_variable = { 37.party_popularity^1 = 50 }
	set_variable = { 37.party_popularity^2 = 12 }
	set_variable = { 37.party_popularity^3 = 29.5 }
	set_variable = { 37.party_popularity^4 = 2.5 }
	set_variable = { 37.party_popularity^5 = 1.5 }
	set_variable = { 37.party_popularity^6 = 3 }
	
	#Netherlands-Flanders
	add_to_array = { SLO.subdivision_states = 7 }
	clear_array = 7.subdivision_states
	add_to_array = { 7.subdivision_states = 7 }
	add_to_array = { 7.subdivision_states = 36 }
	add_to_array = { 7.subdivision_states = 35 }
	add_to_array = { 7.subdivision_states = 977 }
	add_to_array = { 7.subdivision_states = 6 }
	clear_array = 7.party_popularity
	resize_array = { array = 7.party_popularity value = 0 size = 7 }
	set_variable = { 7.party_popularity^0 = 4 }
	set_variable = { 7.party_popularity^1 = 28 }
	set_variable = { 7.party_popularity^2 = 10 }
	set_variable = { 7.party_popularity^3 = 40 }
	set_variable = { 7.party_popularity^4 = 9 }
	set_variable = { 7.party_popularity^5 = 5 }
	set_variable = { 7.party_popularity^6 = 4 }
	
	#Portugal
	add_to_array = { SLO.subdivision_states = 112 }
	clear_array = 112.subdivision_states
	add_to_array = { 112.subdivision_states = 112 }
	add_to_array = { 112.subdivision_states = 179 }
	add_to_array = { 112.subdivision_states = 795 }
	add_to_array = { 112.subdivision_states = 181 }
	add_to_array = { 112.subdivision_states = 180 }
	clear_array = 112.party_popularity
	resize_array = { array = 112.party_popularity value = 0 size = 7 }
	set_variable = { 112.party_popularity^0 = 3 }
	set_variable = { 112.party_popularity^1 = 36 }
	set_variable = { 112.party_popularity^2 = 7 }
	set_variable = { 112.party_popularity^3 = 27 }
	set_variable = { 112.party_popularity^4 = 20 }
	set_variable = { 112.party_popularity^5 = 5 }
	set_variable = { 112.party_popularity^6 = 2 }
	
	#Gibraltar - Costa del Sol
	add_to_array = { SLO.subdivision_states = 118 }
	clear_array = 118.subdivision_states
	add_to_array = { 118.subdivision_states = 118 }
	add_to_array = { 118.subdivision_states = 169 }
	add_to_array = { 118.subdivision_states = 173 }
	add_to_array = { 118.subdivision_states = 789 }
	add_to_array = { 118.subdivision_states = 168 }
	clear_array = 118.party_popularity
	resize_array = { array = 118.party_popularity value = 0 size = 7 }
	set_variable = { 118.party_popularity^0 = 3 }
	set_variable = { 118.party_popularity^1 = 50.5 }
	set_variable = { 118.party_popularity^2 = 9 }
	set_variable = { 118.party_popularity^3 = 20.5 }
	set_variable = { 118.party_popularity^4 = 11 }
	set_variable = { 118.party_popularity^5 = 4 }
	set_variable = { 118.party_popularity^6 = 2 }
	
	#Eastern Spain
	add_to_array = { SLO.subdivision_states = 165 }
	clear_array = 165.subdivision_states
	add_to_array = { 165.subdivision_states = 165 }
	add_to_array = { 165.subdivision_states = 167 }
	add_to_array = { 165.subdivision_states = 794 }
	add_to_array = { 165.subdivision_states = 166 }
	clear_array = 165.party_popularity
	resize_array = { array = 165.party_popularity value = 0 size = 7 }
	set_variable = { 165.party_popularity^0 = 17 }
	set_variable = { 165.party_popularity^1 = 36 }
	set_variable = { 165.party_popularity^2 = 5 }
	set_variable = { 165.party_popularity^3 = 20 }
	set_variable = { 165.party_popularity^4 = 11 }
	set_variable = { 165.party_popularity^5 = 6 }
	set_variable = { 165.party_popularity^6 = 5 }
	
	#Central Spain
	add_to_array = { SLO.subdivision_states = 41 }
	clear_array = 41.subdivision_states
	add_to_array = { 41.subdivision_states = 41 }
	add_to_array = { 41.subdivision_states = 793 }
	add_to_array = { 41.subdivision_states = 175 }
	add_to_array = { 41.subdivision_states = 170 }
	add_to_array = { 41.subdivision_states = 788 }
	clear_array = 41.party_popularity
	resize_array = { array = 41.party_popularity value = 0 size = 7 }
	set_variable = { 41.party_popularity^0 = 10 }
	set_variable = { 41.party_popularity^1 = 32 }
	set_variable = { 41.party_popularity^2 = 6 }
	set_variable = { 41.party_popularity^3 = 26 }
	set_variable = { 41.party_popularity^4 = 20 }
	set_variable = { 41.party_popularity^5 = 5 }
	set_variable = { 41.party_popularity^6 = 1 }
	
	#Northern Spain
	add_to_array = { SLO.subdivision_states = 171 }
	clear_array = 171.subdivision_states
	add_to_array = { 171.subdivision_states = 171 }
	add_to_array = { 171.subdivision_states = 174 }
	add_to_array = { 171.subdivision_states = 791 }
	add_to_array = { 171.subdivision_states = 176 }
	add_to_array = { 171.subdivision_states = 790 }
	clear_array = 171.party_popularity
	resize_array = { array = 171.party_popularity value = 0 size = 7 }
	set_variable = { 171.party_popularity^0 = 8 }
	set_variable = { 171.party_popularity^1 = 24 }
	set_variable = { 171.party_popularity^2 = 6 }
	set_variable = { 171.party_popularity^3 = 25 }
	set_variable = { 171.party_popularity^4 = 25 }
	set_variable = { 171.party_popularity^5 = 7 }
	set_variable = { 171.party_popularity^6 = 5 }
	
	#Basque Region
	add_to_array = { SLO.subdivision_states = 792 }
	clear_array = 792.subdivision_states
	add_to_array = { 792.subdivision_states = 792 }
	add_to_array = { 792.subdivision_states = 172 }
	add_to_array = { 792.subdivision_states = 806 }
	clear_array = 792.party_popularity
	resize_array = { array = 792.party_popularity value = 0 size = 7 }
	set_variable = { 792.party_popularity^0 = 4 }
	set_variable = { 792.party_popularity^1 = 15 }
	set_variable = { 792.party_popularity^2 = 33 }
	set_variable = { 792.party_popularity^3 = 21 }
	set_variable = { 792.party_popularity^4 = 17 }
	set_variable = { 792.party_popularity^5 = 6 }
	set_variable = { 792.party_popularity^6 = 4 }
	
	#Atlantic France
	add_to_array = { SLO.subdivision_states = 19 }
	clear_array = 19.subdivision_states
	add_to_array = { 19.subdivision_states = 19 }
	add_to_array = { 19.subdivision_states = 23 }
	add_to_array = { 19.subdivision_states = 30 }
	add_to_array = { 19.subdivision_states = 14 }
	clear_array = 19.party_popularity
	resize_array = { array = 19.party_popularity value = 0 size = 7 }
	set_variable = { 19.party_popularity^0 = 12 }
	set_variable = { 19.party_popularity^1 = 21 }
	set_variable = { 19.party_popularity^2 = 10 }
	set_variable = { 19.party_popularity^3 = 37 }
	set_variable = { 19.party_popularity^4 = 12 }
	set_variable = { 19.party_popularity^5 = 5 }
	set_variable = { 19.party_popularity^6 = 3 }
	
	#Northern France
	add_to_array = { SLO.subdivision_states = 16 }
	clear_array = 16.subdivision_states
	add_to_array = { 16.subdivision_states = 16 }
	add_to_array = { 16.subdivision_states = 15 }
	add_to_array = { 16.subdivision_states = 785 }
	add_to_array = { 16.subdivision_states = 29 }
	add_to_array = { 16.subdivision_states = 24 }
	add_to_array = { 16.subdivision_states = 33 }
	clear_array = 16.party_popularity
	resize_array = { array = 16.party_popularity value = 0 size = 7 }
	set_variable = { 16.party_popularity^0 = 30 }
	set_variable = { 16.party_popularity^1 = 21 }
	set_variable = { 16.party_popularity^2 = 15 }
	set_variable = { 16.party_popularity^3 = 21 }
	set_variable = { 16.party_popularity^4 = 8 }
	set_variable = { 16.party_popularity^5 = 3 }
	set_variable = { 16.party_popularity^6 = 2 }
	
	#Grand-Est - Bourgogne - Wallonia
	add_to_array = { SLO.subdivision_states = 28 }
	clear_array = 28.subdivision_states
	add_to_array = { 28.subdivision_states = 28 }
	add_to_array = { 28.subdivision_states = 17 }
	add_to_array = { 28.subdivision_states = 18 }
	add_to_array = { 28.subdivision_states = 980 }
	add_to_array = { 28.subdivision_states = 34 }
	add_to_array = { 28.subdivision_states = 27 }
	clear_array = 28.party_popularity
	resize_array = { array = 28.party_popularity value = 0 size = 7 }
	set_variable = { 28.party_popularity^0 = 10.5 }
	set_variable = { 28.party_popularity^1 = 20 }
	set_variable = { 28.party_popularity^2 = 19 }
	set_variable = { 28.party_popularity^3 = 34 }
	set_variable = { 28.party_popularity^4 = 4 }
	set_variable = { 28.party_popularity^5 = 9.5 }
	set_variable = { 28.party_popularity^6 = 3 }
	
	#Occitanie
	add_to_array = { SLO.subdivision_states = 31 }
	clear_array = 31.subdivision_states
	add_to_array = { 31.subdivision_states = 31 }
	add_to_array = { 31.subdivision_states = 25 }
	add_to_array = { 31.subdivision_states = 26 }
	add_to_array = { 31.subdivision_states = 22 }
	clear_array = 31.party_popularity
	resize_array = { array = 31.party_popularity value = 0 size = 7 }
	set_variable = { 31.party_popularity^0 = 10 }
	set_variable = { 31.party_popularity^1 = 27 }
	set_variable = { 31.party_popularity^2 = 16 }
	set_variable = { 31.party_popularity^3 = 23 }
	set_variable = { 31.party_popularity^4 = 12 }
	set_variable = { 31.party_popularity^5 = 6 }
	set_variable = { 31.party_popularity^6 = 6 }
	
	#Provence - Alpes - Rhône - Corsica
	add_to_array = { SLO.subdivision_states = 20 }
	clear_array = 20.subdivision_states
	add_to_array = { 20.subdivision_states = 20 }
	add_to_array = { 20.subdivision_states = 851 }
	add_to_array = { 20.subdivision_states = 1 }
	add_to_array = { 20.subdivision_states = 735 }
	add_to_array = { 20.subdivision_states = 32 }
	add_to_array = { 20.subdivision_states = 21 }
	clear_array = 20.party_popularity
	resize_array = { array = 20.party_popularity value = 0 size = 7 }
	set_variable = { 20.party_popularity^0 = 10 }
	set_variable = { 20.party_popularity^1 = 27 }
	set_variable = { 20.party_popularity^2 = 16 }
	set_variable = { 20.party_popularity^3 = 23 }
	set_variable = { 20.party_popularity^4 = 12 }
	set_variable = { 20.party_popularity^5 = 6 }
	set_variable = { 20.party_popularity^6 = 6 }

	#Rhineland
	add_to_array = { SLO.subdivision_states = 51 }
	clear_array = 51.subdivision_states
	add_to_array = { 51.subdivision_states = 51 }
	add_to_array = { 51.subdivision_states = 57 }
	add_to_array = { 51.subdivision_states = 55 }
	add_to_array = { 51.subdivision_states = 42 }
	add_to_array = { 51.subdivision_states = 8 }
	clear_array = 51.party_popularity
	resize_array = { array = 51.party_popularity value = 0 size = 7 }
	set_variable = { 51.party_popularity^0 = 18.5 }
	set_variable = { 51.party_popularity^1 = 17 }
	set_variable = { 51.party_popularity^2 = 6 }
	set_variable = { 51.party_popularity^3 = 30 }
	set_variable = { 51.party_popularity^4 = 5 }
	set_variable = { 51.party_popularity^5 = 21 }
	set_variable = { 51.party_popularity^6 = 2.5 }

	#Baden - Wurttemberg
	add_to_array = { SLO.subdivision_states = 50 }
	clear_array = 50.subdivision_states
	add_to_array = { 50.subdivision_states = 50 }
	add_to_array = { 50.subdivision_states = 978 }
	clear_array = 50.party_popularity
	resize_array = { array = 50.party_popularity value = 0 size = 7 }
	set_variable = { 50.party_popularity^0 = 12.5 }
	set_variable = { 50.party_popularity^1 = 15.5 }
	set_variable = { 50.party_popularity^2 = 7 }
	set_variable = { 50.party_popularity^3 = 27 }
	set_variable = { 50.party_popularity^4 = 6 }
	set_variable = { 50.party_popularity^5 = 30 }
	set_variable = { 50.party_popularity^6 = 2 }

	#Bavaria
	add_to_array = { SLO.subdivision_states = 52 }
	clear_array = 52.subdivision_states
	add_to_array = { 52.subdivision_states = 52 }
	add_to_array = { 52.subdivision_states = 54 }
	add_to_array = { 52.subdivision_states = 53 }
	clear_array = 52.party_popularity
	resize_array = { array = 52.party_popularity value = 0 size = 7 }
	set_variable = { 52.party_popularity^0 = 8 }
	set_variable = { 52.party_popularity^1 = 17 }
	set_variable = { 52.party_popularity^2 = 5 }
	set_variable = { 52.party_popularity^3 = 29 }
	set_variable = { 52.party_popularity^4 = 10 }
	set_variable = { 52.party_popularity^5 = 25 }
	set_variable = { 52.party_popularity^6 = 6 }

	#North-West Germany
	add_to_array = { SLO.subdivision_states = 58 }
	clear_array = 58.subdivision_states
	add_to_array = { 58.subdivision_states = 58 }
	add_to_array = { 58.subdivision_states = 56 }
	add_to_array = { 58.subdivision_states = 59 }
	add_to_array = { 58.subdivision_states = 909 }
	clear_array = 58.party_popularity
	resize_array = { array = 58.party_popularity value = 0 size = 7 }
	set_variable = { 58.party_popularity^0 = 15 }
	set_variable = { 58.party_popularity^1 = 21 }
	set_variable = { 58.party_popularity^2 = 6 }
	set_variable = { 58.party_popularity^3 = 14 }
	set_variable = { 58.party_popularity^4 = 9 }
	set_variable = { 58.party_popularity^5 = 34 }
	set_variable = { 58.party_popularity^6 = 1 }

	#Brandenburg
	add_to_array = { SLO.subdivision_states = 64 }
	clear_array = 64.subdivision_states
	add_to_array = { 64.subdivision_states = 64 }
	add_to_array = { 64.subdivision_states = 65 }
	add_to_array = { 64.subdivision_states = 60 }
	add_to_array = { 64.subdivision_states = 61 }
	clear_array = 64.party_popularity
	resize_array = { array = 64.party_popularity value = 0 size = 7 }
	set_variable = { 64.party_popularity^0 = 22.5 }
	set_variable = { 64.party_popularity^1 = 19.5 }
	set_variable = { 64.party_popularity^2 = 6 }
	set_variable = { 64.party_popularity^3 = 14 }
	set_variable = { 64.party_popularity^4 = 5 }
	set_variable = { 64.party_popularity^5 = 29 }
	set_variable = { 64.party_popularity^6 = 4 }

	#Pomerania
	add_to_array = { SLO.subdivision_states = 63 }
	clear_array = 63.subdivision_states
	add_to_array = { 63.subdivision_states = 63 }
	add_to_array = { 63.subdivision_states = 68 }
	add_to_array = { 63.subdivision_states = 62 }
	clear_array = 63.party_popularity
	resize_array = { array = 63.party_popularity value = 0 size = 7 }
	set_variable = { 63.party_popularity^0 = 6 }
	set_variable = { 63.party_popularity^1 = 22 }
	set_variable = { 63.party_popularity^2 = 6 }
	set_variable = { 63.party_popularity^3 = 10 }
	set_variable = { 63.party_popularity^4 = 12 }
	set_variable = { 63.party_popularity^5 = 40 }
	set_variable = { 63.party_popularity^6 = 4 }

	#Silesia
	add_to_array = { SLO.subdivision_states = 66 }
	clear_array = 66.subdivision_states
	add_to_array = { 66.subdivision_states = 66 }
	add_to_array = { 66.subdivision_states = 74 }
	add_to_array = { 66.subdivision_states = 67 }
	add_to_array = { 66.subdivision_states = 762 }
	clear_array = 66.party_popularity
	resize_array = { array = 66.party_popularity value = 0 size = 7 }
	set_variable = { 66.party_popularity^0 = 7 }
	set_variable = { 66.party_popularity^1 = 24 }
	set_variable = { 66.party_popularity^2 = 4 }
	set_variable = { 66.party_popularity^3 = 13 }
	set_variable = { 66.party_popularity^4 = 8 }
	set_variable = { 66.party_popularity^5 = 38 }
	set_variable = { 66.party_popularity^6 = 6 }

	#Czechia
	add_to_array = { SLO.subdivision_states = 9 }
	clear_array = 9.subdivision_states
	add_to_array = { 9.subdivision_states = 9 }
	add_to_array = { 9.subdivision_states = 75 }
	clear_array = 9.party_popularity
	resize_array = { array = 9.party_popularity value = 0 size = 7 }
	set_variable = { 9.party_popularity^0 = 10 }
	set_variable = { 9.party_popularity^1 = 25 }
	set_variable = { 9.party_popularity^2 = 10 }
	set_variable = { 9.party_popularity^3 = 34 }
	set_variable = { 9.party_popularity^4 = 12 }
	set_variable = { 9.party_popularity^5 = 7 }
	set_variable = { 9.party_popularity^6 = 2 }

	#Sudetenland
	add_to_array = { SLO.subdivision_states = 69 }
	clear_array = 69.subdivision_states
	add_to_array = { 69.subdivision_states = 69 }
	add_to_array = { 69.subdivision_states = 972 }
	clear_array = 69.party_popularity
	resize_array = { array = 69.party_popularity value = 0 size = 7 }
	set_variable = { 69.party_popularity^0 = 4 }
	set_variable = { 69.party_popularity^1 = 11 }
	set_variable = { 69.party_popularity^2 = 5 }
	set_variable = { 69.party_popularity^3 = 20 }
	set_variable = { 69.party_popularity^4 = 11 }
	set_variable = { 69.party_popularity^5 = 45 }
	set_variable = { 69.party_popularity^6 = 4 }

	#Slovakia
	add_to_array = { SLO.subdivision_states = 70 }
	clear_array = 70.subdivision_states
	add_to_array = { 70.subdivision_states = 70 }
	add_to_array = { 70.subdivision_states = 71 }
	add_to_array = { 70.subdivision_states = 664 }
	add_to_array = { 70.subdivision_states = 73 }
	clear_array = 70.party_popularity
	resize_array = { array = 70.party_popularity value = 0 size = 7 }
	set_variable = { 70.party_popularity^0 = SLO.previous_election_results^0 }
	set_variable = { 70.party_popularity^1 = SLO.previous_election_results^1 }
	set_variable = { 70.party_popularity^2 = SLO.previous_election_results^2 }
	set_variable = { 70.party_popularity^3 = SLO.previous_election_results^3 }
	set_variable = { 70.party_popularity^4 = SLO.previous_election_results^4 }
	set_variable = { 70.party_popularity^5 = SLO.previous_election_results^5 }
	set_variable = { 70.party_popularity^6 = SLO.previous_election_results^6 }

	#Switzerland
	add_to_array = { SLO.subdivision_states = 3 }
	clear_array = 3.subdivision_states
	add_to_array = { 3.subdivision_states = 3 }
	add_to_array = { 3.subdivision_states = 845 }
	add_to_array = { 3.subdivision_states = 847 }
	add_to_array = { 3.subdivision_states = 846 }
	add_to_array = { 3.subdivision_states = 151 }
	clear_array = 3.party_popularity
	resize_array = { array = 3.party_popularity value = 0 size = 7 }
	set_variable = { 3.party_popularity^0 = 1 }
	set_variable = { 3.party_popularity^1 = 32 }
	set_variable = { 3.party_popularity^2 = 25 }
	set_variable = { 3.party_popularity^3 = 33 }
	set_variable = { 3.party_popularity^4 = 4 }
	set_variable = { 3.party_popularity^5 = 2 }
	set_variable = { 3.party_popularity^6 = 3 }

	#Austria
	add_to_array = { SLO.subdivision_states = 4 }
	clear_array = 4.subdivision_states
	add_to_array = { 4.subdivision_states = 4 }
	add_to_array = { 4.subdivision_states = 976 }
	add_to_array = { 4.subdivision_states = 152 }
	add_to_array = { 4.subdivision_states = 153 }
	add_to_array = { 4.subdivision_states = 848 }
	add_to_array = { 4.subdivision_states = 39 }
	clear_array = 4.party_popularity
	resize_array = { array = 4.party_popularity value = 0 size = 7 }
	set_variable = { 4.party_popularity^0 = 3 }
	set_variable = { 4.party_popularity^1 = 22 }
	set_variable = { 4.party_popularity^2 = 7 }
	set_variable = { 4.party_popularity^3 = 12 }
	set_variable = { 4.party_popularity^4 = 19 }
	set_variable = { 4.party_popularity^5 = 34 }
	set_variable = { 4.party_popularity^6 = 3 }

	#Po Region / Po Valley
	add_to_array = { SLO.subdivision_states = 159 }
	clear_array = 159.subdivision_states
	add_to_array = { 159.subdivision_states = 159 }
	add_to_array = { 159.subdivision_states = 158 }
	add_to_array = { 159.subdivision_states = 850 }
	add_to_array = { 159.subdivision_states = 160 }
	add_to_array = { 159.subdivision_states = 736 }
	add_to_array = { 159.subdivision_states = 161 }
	clear_array = 159.party_popularity
	resize_array = { array = 159.party_popularity value = 0 size = 7 }
	set_variable = { 159.party_popularity^0 = 16 }
	set_variable = { 159.party_popularity^1 = 20 }
	set_variable = { 159.party_popularity^2 = 4 }
	set_variable = { 159.party_popularity^3 = 24 }
	set_variable = { 159.party_popularity^4 = 5 }
	set_variable = { 159.party_popularity^5 = 25 }
	set_variable = { 159.party_popularity^6 = 6 }

	#Central Italy
	add_to_array = { SLO.subdivision_states = 2 }
	clear_array = 2.subdivision_states
	add_to_array = { 2.subdivision_states = 2 }
	add_to_array = { 2.subdivision_states = 162 }
	add_to_array = { 2.subdivision_states = 157 }
	clear_array = 2.party_popularity
	resize_array = { array = 2.party_popularity value = 0 size = 7 }
	set_variable = { 2.party_popularity^0 = 15 }
	set_variable = { 2.party_popularity^1 = 12 }
	set_variable = { 2.party_popularity^2 = 5 }
	set_variable = { 2.party_popularity^3 = 28 }
	set_variable = { 2.party_popularity^4 = 6 }
	set_variable = { 2.party_popularity^5 = 31 }
	set_variable = { 2.party_popularity^6 = 3 }

	#Southern Italy
	add_to_array = { SLO.subdivision_states = 117 }
	clear_array = 117.subdivision_states
	add_to_array = { 117.subdivision_states = 117 }
	add_to_array = { 117.subdivision_states = 849 }
	add_to_array = { 117.subdivision_states = 156 }
	add_to_array = { 117.subdivision_states = 115 }
	add_to_array = { 117.subdivision_states = 114 }
	add_to_array = { 117.subdivision_states = 116 }
	clear_array = 117.party_popularity
	resize_array = { array = 117.party_popularity value = 0 size = 7 }
	set_variable = { 117.party_popularity^0 = 8 }
	set_variable = { 117.party_popularity^1 = 10 }
	set_variable = { 117.party_popularity^2 = 7 }
	set_variable = { 117.party_popularity^3 = 30 }
	set_variable = { 117.party_popularity^4 = 7 }
	set_variable = { 117.party_popularity^5 = 36 }
	set_variable = { 117.party_popularity^6 = 2 }

	#Hungary
	add_to_array = { SLO.subdivision_states = 43 }
	clear_array = 43.subdivision_states
	add_to_array = { 43.subdivision_states = 43 }
	add_to_array = { 43.subdivision_states = 975 }
	add_to_array = { 43.subdivision_states = 155 }
	add_to_array = { 43.subdivision_states = 974 }
	add_to_array = { 43.subdivision_states = 973 }
	add_to_array = { 43.subdivision_states = 154 }
	clear_array = 43.party_popularity
	resize_array = { array = 43.party_popularity value = 0 size = 7 }
	set_variable = { 43.party_popularity^0 = 5 }
	set_variable = { 43.party_popularity^1 = 18 }
	set_variable = { 43.party_popularity^2 = 8 }
	set_variable = { 43.party_popularity^3 = 34 }
	set_variable = { 43.party_popularity^4 = 20 }
	set_variable = { 43.party_popularity^5 = 12 }
	set_variable = { 43.party_popularity^6 = 3 }
	
	#Slovenia
	add_to_array = { SLO.subdivision_states = 102 }
	clear_array = 102.subdivision_states
	add_to_array = { 102.subdivision_states = 102 }
	add_to_array = { 102.subdivision_states = 853 }
	clear_array = 102.party_popularity
	resize_array = { array = 102.party_popularity value = 0 size = 7 }
	set_variable = { 102.party_popularity^0 = 4 }
	set_variable = { 102.party_popularity^1 = 32 }
	set_variable = { 102.party_popularity^2 = 15 }
	set_variable = { 102.party_popularity^3 = 27 }
	set_variable = { 102.party_popularity^4 = 12 }
	set_variable = { 102.party_popularity^5 = 5 }
	set_variable = { 102.party_popularity^6 = 5 }
	
	#Poland
	add_to_array = { SLO.subdivision_states = 10 }
	clear_array = 10.subdivision_states
	add_to_array = { 10.subdivision_states = 10 }
	add_to_array = { 10.subdivision_states = 92 }
	add_to_array = { 10.subdivision_states = 97 }
	add_to_array = { 10.subdivision_states = 90 }
	add_to_array = { 10.subdivision_states = 98 }
	add_to_array = { 10.subdivision_states = 87 }
	add_to_array = { 10.subdivision_states = 86 }
	add_to_array = { 10.subdivision_states = 807 }
	clear_array = 10.party_popularity
	resize_array = { array = 10.party_popularity value = 0 size = 7 }
	set_variable = { 10.party_popularity^0 = 2 }
	set_variable = { 10.party_popularity^1 = 31 }
	set_variable = { 10.party_popularity^2 = 11 }
	set_variable = { 10.party_popularity^3 = 22 }
	set_variable = { 10.party_popularity^4 = 23 }
	set_variable = { 10.party_popularity^5 = 3 }
	set_variable = { 10.party_popularity^6 = 8 }
	
	#Galicia
	add_to_array = { SLO.subdivision_states = 88 }
	clear_array = 88.subdivision_states
	add_to_array = { 88.subdivision_states = 88 }
	add_to_array = { 88.subdivision_states = 72 }
	add_to_array = { 88.subdivision_states = 91 }
	add_to_array = { 88.subdivision_states = 89 }
	clear_array = 88.party_popularity
	resize_array = { array = 88.party_popularity value = 0 size = 7 }
	set_variable = { 88.party_popularity^0 = 2 }
	set_variable = { 88.party_popularity^1 = 28 }
	set_variable = { 88.party_popularity^2 = 11 }
	set_variable = { 88.party_popularity^3 = 22 }
	set_variable = { 88.party_popularity^4 = 23 }
	set_variable = { 88.party_popularity^5 = 4 }
	set_variable = { 88.party_popularity^6 = 10 }
	
	#East Prussia
	add_to_array = { SLO.subdivision_states = 763 }
	clear_array = 763.subdivision_states
	add_to_array = { 763.subdivision_states = 763 }
	add_to_array = { 763.subdivision_states = 5 }
	add_to_array = { 763.subdivision_states = 85 }
	clear_array = 763.party_popularity
	resize_array = { array = 763.party_popularity value = 0 size = 7 }
	set_variable = { 763.party_popularity^0 = 9 }
	set_variable = { 763.party_popularity^1 = 17 }
	set_variable = { 763.party_popularity^2 = 4 }
	set_variable = { 763.party_popularity^3 = 11 }
	set_variable = { 763.party_popularity^4 = 9 }
	set_variable = { 763.party_popularity^5 = 50 }
	set_variable = { 763.party_popularity^6 = 4 }
	
	#Lithuania
	add_to_array = { SLO.subdivision_states = 784 }
	clear_array = 784.subdivision_states
	add_to_array = { 784.subdivision_states = 784 }
	add_to_array = { 784.subdivision_states = 11 }
	add_to_array = { 784.subdivision_states = 814 }
	add_to_array = { 784.subdivision_states = 815 }
	add_to_array = { 784.subdivision_states = 189 }
	add_to_array = { 784.subdivision_states = 188 }
	clear_array = 784.party_popularity
	resize_array = { array = 784.party_popularity value = 0 size = 7 }
	set_variable = { 784.party_popularity^0 = 3 }
	set_variable = { 784.party_popularity^1 = 35 }
	set_variable = { 784.party_popularity^2 = 10 }
	set_variable = { 784.party_popularity^3 = 33 }
	set_variable = { 784.party_popularity^4 = 8 }
	set_variable = { 784.party_popularity^5 = 4 }
	set_variable = { 784.party_popularity^6 = 7 }
	
	#Latvia
	add_to_array = { SLO.subdivision_states = 808 }
	clear_array = 808.subdivision_states
	add_to_array = { 808.subdivision_states = 808 }
	add_to_array = { 808.subdivision_states = 190 }
	add_to_array = { 808.subdivision_states = 809 }
	add_to_array = { 808.subdivision_states = 12 }
	add_to_array = { 808.subdivision_states = 810 }
	clear_array = 808.party_popularity
	resize_array = { array = 808.party_popularity value = 0 size = 7 }
	set_variable = { 808.party_popularity^0 = 7 }
	set_variable = { 808.party_popularity^1 = 32 }
	set_variable = { 808.party_popularity^2 = 16 }
	set_variable = { 808.party_popularity^3 = 28 }
	set_variable = { 808.party_popularity^4 = 14 }
	set_variable = { 808.party_popularity^5 = 2 }
	set_variable = { 808.party_popularity^6 = 1 }
	
	#Estonia
	add_to_array = { SLO.subdivision_states = 812 }
	clear_array = 812.subdivision_states
	add_to_array = { 812.subdivision_states = 812 }
	add_to_array = { 812.subdivision_states = 13 }
	add_to_array = { 812.subdivision_states = 811 }
	add_to_array = { 812.subdivision_states = 191 }
	add_to_array = { 812.subdivision_states = 813 }
	clear_array = 812.party_popularity
	resize_array = { array = 812.party_popularity value = 0 size = 7 }
	set_variable = { 812.party_popularity^0 = 12 }
	set_variable = { 812.party_popularity^1 = 22 }
	set_variable = { 812.party_popularity^2 = 14 }
	set_variable = { 812.party_popularity^3 = 35 }
	set_variable = { 812.party_popularity^4 = 9 }
	set_variable = { 812.party_popularity^5 = 3 }
	set_variable = { 812.party_popularity^6 = 5 }
	
	#Croatia
	add_to_array = { SLO.subdivision_states = 109 }
	clear_array = 109.subdivision_states
	add_to_array = { 109.subdivision_states = 109 }
	add_to_array = { 109.subdivision_states = 103 }
	add_to_array = { 109.subdivision_states = 852 }
	add_to_array = { 109.subdivision_states = 163 }
	clear_array = 109.party_popularity
	resize_array = { array = 109.party_popularity value = 0 size = 7 }
	set_variable = { 109.party_popularity^0 = 8 }
	set_variable = { 109.party_popularity^1 = 21 }
	set_variable = { 109.party_popularity^2 = 5 }
	set_variable = { 109.party_popularity^3 = 34 }
	set_variable = { 109.party_popularity^4 = 20 }
	set_variable = { 109.party_popularity^5 = 4 }
	set_variable = { 109.party_popularity^6 = 8 }
	
	#Bosnia
	add_to_array = { SLO.subdivision_states = 104 }
	clear_array = 104.subdivision_states
	add_to_array = { 104.subdivision_states = 104 }
	add_to_array = { 104.subdivision_states = 804 }
	clear_array = 104.party_popularity
	resize_array = { array = 104.party_popularity value = 0 size = 7 }
	set_variable = { 104.party_popularity^0 = 2 }
	set_variable = { 104.party_popularity^1 = 17 }
	set_variable = { 104.party_popularity^2 = 8 }
	set_variable = { 104.party_popularity^3 = 18 }
	set_variable = { 104.party_popularity^4 = 16 }
	set_variable = { 104.party_popularity^5 = 3 }
	set_variable = { 104.party_popularity^6 = 36 }
	
	#Serbia
	add_to_array = { SLO.subdivision_states = 107 }
	clear_array = 107.subdivision_states
	add_to_array = { 107.subdivision_states = 107 }
	add_to_array = { 107.subdivision_states = 45 }
	add_to_array = { 107.subdivision_states = 764 }
	add_to_array = { 107.subdivision_states = 108 }
	add_to_array = { 107.subdivision_states = 803 }
	add_to_array = { 107.subdivision_states = 105 }
	clear_array = 107.party_popularity
	resize_array = { array = 107.party_popularity value = 0 size = 7 }
	set_variable = { 107.party_popularity^0 = 10 }
	set_variable = { 107.party_popularity^1 = 17 }
	set_variable = { 107.party_popularity^2 = 28 }
	set_variable = { 107.party_popularity^3 = 20 }
	set_variable = { 107.party_popularity^4 = 20 }
	set_variable = { 107.party_popularity^5 = 1 }
	set_variable = { 107.party_popularity^6 = 4 }
	
	#Albania
	add_to_array = { SLO.subdivision_states = 44 }
	clear_array = 44.subdivision_states
	add_to_array = { 44.subdivision_states = 44 }
	add_to_array = { 44.subdivision_states = 805 }
	add_to_array = { 44.subdivision_states = 934 }
	add_to_array = { 44.subdivision_states = 802 }
	clear_array = 44.party_popularity
	resize_array = { array = 44.party_popularity value = 0 size = 7 }
	set_variable = { 44.party_popularity^0 = 7 }
	set_variable = { 44.party_popularity^1 = 19 }
	set_variable = { 44.party_popularity^2 = 13.5 }
	set_variable = { 44.party_popularity^3 = 32.5 }
	set_variable = { 44.party_popularity^4 = 9 }
	set_variable = { 44.party_popularity^5 = 5 }
	set_variable = { 44.party_popularity^6 = 14 }
	
	#Macedonia
	add_to_array = { SLO.subdivision_states = 731 }
	clear_array = 731.subdivision_states
	add_to_array = { 731.subdivision_states = 731 }
	add_to_array = { 731.subdivision_states = 106 }
	add_to_array = { 731.subdivision_states = 970 }
	add_to_array = { 731.subdivision_states = 184 }
	clear_array = 731.party_popularity
	resize_array = { array = 731.party_popularity value = 0 size = 7 }
	set_variable = { 731.party_popularity^0 = 13.5 }
	set_variable = { 731.party_popularity^1 = 15.5 }
	set_variable = { 731.party_popularity^2 = 32 }
	set_variable = { 731.party_popularity^3 = 24 }
	set_variable = { 731.party_popularity^4 = 5 }
	set_variable = { 731.party_popularity^5 = 2 }
	set_variable = { 731.party_popularity^6 = 8 }
	
	#Greece
	add_to_array = { SLO.subdivision_states = 47 }
	clear_array = 47.subdivision_states
	add_to_array = { 47.subdivision_states = 47 }
	add_to_array = { 47.subdivision_states = 185 }
	add_to_array = { 47.subdivision_states = 186 }
	add_to_array = { 47.subdivision_states = 187 }
	add_to_array = { 47.subdivision_states = 182 }
	add_to_array = { 47.subdivision_states = 164 }
	add_to_array = { 47.subdivision_states = 183 }
	clear_array = 47.party_popularity
	resize_array = { array = 47.party_popularity value = 0 size = 7 }
	set_variable = { 47.party_popularity^0 = 4 }
	set_variable = { 47.party_popularity^1 = 8 }
	set_variable = { 47.party_popularity^2 = 45 }
	set_variable = { 47.party_popularity^3 = 25 }
	set_variable = { 47.party_popularity^4 = 14 }
	set_variable = { 47.party_popularity^5 = 1 }
	set_variable = { 47.party_popularity^6 = 3 }
	
	#Bulgaria
	add_to_array = { SLO.subdivision_states = 48 }
	clear_array = 48.subdivision_states
	add_to_array = { 48.subdivision_states = 48 }
	add_to_array = { 48.subdivision_states = 801 }
	add_to_array = { 48.subdivision_states = 186 }
	add_to_array = { 48.subdivision_states = 211 }
	add_to_array = { 48.subdivision_states = 212 }
	clear_array = 48.party_popularity
	resize_array = { array = 48.party_popularity value = 0 size = 7 }
	set_variable = { 48.party_popularity^0 = 10 }
	set_variable = { 48.party_popularity^1 = 7 }
	set_variable = { 48.party_popularity^2 = 20 }
	set_variable = { 48.party_popularity^3 = 38 }
	set_variable = { 48.party_popularity^4 = 21 }
	set_variable = { 48.party_popularity^5 = 3 }
	set_variable = { 48.party_popularity^6 = 1 }
	
	#Wallachia
	add_to_array = { SLO.subdivision_states = 46 }
	clear_array = 46.subdivision_states
	add_to_array = { 46.subdivision_states = 46 }
	add_to_array = { 46.subdivision_states = 81 }
	clear_array = 46.party_popularity
	resize_array = { array = 46.party_popularity value = 0 size = 7 }
	set_variable = { 46.party_popularity^0 = 5 }
	set_variable = { 46.party_popularity^1 = 8.5 }
	set_variable = { 46.party_popularity^2 = 36 }
	set_variable = { 46.party_popularity^3 = 26 }
	set_variable = { 46.party_popularity^4 = 12.5 }
	set_variable = { 46.party_popularity^5 = 6 }
	set_variable = { 46.party_popularity^6 = 6 }
	
	#Dobruja
	add_to_array = { SLO.subdivision_states = 971 }
	clear_array = 971.subdivision_states
	add_to_array = { 971.subdivision_states = 971 }
	add_to_array = { 971.subdivision_states = 77 }
	clear_array = 971.party_popularity
	resize_array = { array = 971.party_popularity value = 0 size = 7 }
	set_variable = { 971.party_popularity^0 = 4 }
	set_variable = { 971.party_popularity^1 = 10 }
	set_variable = { 971.party_popularity^2 = 40 }
	set_variable = { 971.party_popularity^3 = 28 }
	set_variable = { 971.party_popularity^4 = 10 }
	set_variable = { 971.party_popularity^5 = 4 }
	set_variable = { 971.party_popularity^6 = 4 }
	
	#Transylvania
	add_to_array = { SLO.subdivision_states = 76 }
	clear_array = 76.subdivision_states
	add_to_array = { 76.subdivision_states = 76 }
	add_to_array = { 76.subdivision_states = 83 }
	add_to_array = { 76.subdivision_states = 84 }
	add_to_array = { 76.subdivision_states = 82 }
	clear_array = 76.party_popularity
	resize_array = { array = 76.party_popularity value = 0 size = 7 }
	set_variable = { 76.party_popularity^0 = 4 }
	set_variable = { 76.party_popularity^1 = 5 }
	set_variable = { 76.party_popularity^2 = 32 }
	set_variable = { 76.party_popularity^3 = 25 }
	set_variable = { 76.party_popularity^4 = 13 }
	set_variable = { 76.party_popularity^5 = 6 }
	set_variable = { 76.party_popularity^6 = 15 }
	
	#Moldavia
	add_to_array = { SLO.subdivision_states = 79 }
	clear_array = 79.subdivision_states
	add_to_array = { 79.subdivision_states = 79 }
	add_to_array = { 79.subdivision_states = 78 }
	add_to_array = { 79.subdivision_states = 80 }
	clear_array = 79.party_popularity
	resize_array = { array = 79.party_popularity value = 0 size = 7 }
	set_variable = { 79.party_popularity^0 = 4 }
	set_variable = { 79.party_popularity^1 = 8 }
	set_variable = { 79.party_popularity^2 = 31 }
	set_variable = { 79.party_popularity^3 = 25 }
	set_variable = { 79.party_popularity^4 = 18.5 }
	set_variable = { 79.party_popularity^5 = 8.5 }
	set_variable = { 79.party_popularity^6 = 5 }
	
	#Norway
	add_to_array = { SLO.subdivision_states = 110 }
	clear_array = 110.subdivision_states
	add_to_array = { 110.subdivision_states = 110 }
	add_to_array = { 110.subdivision_states = 921 }
	add_to_array = { 110.subdivision_states = 922 }
	add_to_array = { 110.subdivision_states = 142 }
	add_to_array = { 110.subdivision_states = 920 }
	add_to_array = { 110.subdivision_states = 143 }
	add_to_array = { 110.subdivision_states = 923 }
	clear_array = 110.party_popularity
	resize_array = { array = 110.party_popularity value = 0 size = 7 }
	set_variable = { 110.party_popularity^0 = 2 }
	set_variable = { 110.party_popularity^1 = 38 }
	set_variable = { 110.party_popularity^2 = 18 }
	set_variable = { 110.party_popularity^3 = 30 }
	set_variable = { 110.party_popularity^4 = 5 }
	set_variable = { 110.party_popularity^5 = 2 }
	set_variable = { 110.party_popularity^6 = 5 }
	
	#Sweden
	add_to_array = { SLO.subdivision_states = 141 }
	clear_array = 141.subdivision_states
	add_to_array = { 141.subdivision_states = 141 }
	add_to_array = { 141.subdivision_states = 919 }
	add_to_array = { 141.subdivision_states = 140 }
	add_to_array = { 141.subdivision_states = 915 }
	add_to_array = { 141.subdivision_states = 913 }
	add_to_array = { 141.subdivision_states = 139 }
	add_to_array = { 141.subdivision_states = 124 }
	add_to_array = { 141.subdivision_states = 138 }
	clear_array = 141.party_popularity
	resize_array = { array = 141.party_popularity value = 0 size = 7 }
	set_variable = { 141.party_popularity^0 = 3.5 }
	set_variable = { 141.party_popularity^1 = 41.5 }
	set_variable = { 141.party_popularity^2 = 18 }
	set_variable = { 141.party_popularity^3 = 32 }
	set_variable = { 141.party_popularity^4 = 2 }
	set_variable = { 141.party_popularity^5 = 2 }
	set_variable = { 141.party_popularity^6 = 1 }
	
	#Norrland
	add_to_array = { SLO.subdivision_states = 38 }
	clear_array = 38.subdivision_states
	add_to_array = { 38.subdivision_states = 38 }
	add_to_array = { 38.subdivision_states = 917 }
	add_to_array = { 38.subdivision_states = 916 }
	add_to_array = { 38.subdivision_states = 918 }
	clear_array = 38.party_popularity
	resize_array = { array = 38.party_popularity value = 0 size = 7 }
	set_variable = { 38.party_popularity^0 = 7 }
	set_variable = { 38.party_popularity^1 = 47 }
	set_variable = { 38.party_popularity^2 = 12 }
	set_variable = { 38.party_popularity^3 = 28 }
	set_variable = { 38.party_popularity^4 = 2 }
	set_variable = { 38.party_popularity^5 = 1 }
	set_variable = { 38.party_popularity^6 = 3 }
	
	#Finland
	add_to_array = { SLO.subdivision_states = 111 }
	clear_array = 111.subdivision_states
	add_to_array = { 111.subdivision_states = 111 }
	add_to_array = { 111.subdivision_states = 926 }
	add_to_array = { 111.subdivision_states = 145 }
	add_to_array = { 111.subdivision_states = 927 }
	add_to_array = { 111.subdivision_states = 928 }
	add_to_array = { 111.subdivision_states = 930 }
	add_to_array = { 111.subdivision_states = 146 }
	add_to_array = { 111.subdivision_states = 149 }
	add_to_array = { 111.subdivision_states = 150 }
	add_to_array = { 111.subdivision_states = 929 }
	clear_array = 111.party_popularity
	resize_array = { array = 111.party_popularity value = 0 size = 7 }
	set_variable = { 111.party_popularity^0 = 2 }
	set_variable = { 111.party_popularity^1 = 44 }
	set_variable = { 111.party_popularity^2 = 13.5 }
	set_variable = { 111.party_popularity^3 = 28 }
	set_variable = { 111.party_popularity^4 = 9.5 }
	set_variable = { 111.party_popularity^5 = 1 }
	set_variable = { 111.party_popularity^6 = 2 }
	
	#Saami Region
	add_to_array = { SLO.subdivision_states = 666 }
	clear_array = 666.subdivision_states
	add_to_array = { 666.subdivision_states = 666 }
	add_to_array = { 666.subdivision_states = 925 }
	add_to_array = { 666.subdivision_states = 148 }
	add_to_array = { 666.subdivision_states = 924 }
	add_to_array = { 666.subdivision_states = 144 }
	clear_array = 666.party_popularity
	resize_array = { array = 666.party_popularity value = 0 size = 7 }
	set_variable = { 666.party_popularity^0 = 4 }
	set_variable = { 666.party_popularity^1 = 48 }
	set_variable = { 666.party_popularity^2 = 12 }
	set_variable = { 666.party_popularity^3 = 24 }
	set_variable = { 666.party_popularity^4 = 5.5 }
	set_variable = { 666.party_popularity^5 = 1 }
	set_variable = { 666.party_popularity^6 = 5.5 }
	
	
	#Bosphorus Region
	add_to_array = { SLO.subdivision_states = 797 }
	clear_array = 797.subdivision_states
	add_to_array = { 797.subdivision_states = 797 }
	add_to_array = { 797.subdivision_states = 341 }
	add_to_array = { 797.subdivision_states = 347 }
	add_to_array = { 797.subdivision_states = 340 }
	add_to_array = { 797.subdivision_states = 339 }
	add_to_array = { 797.subdivision_states = 343 }
	add_to_array = { 797.subdivision_states = 342 }
	clear_array = 797.party_popularity
	resize_array = { array = 797.party_popularity value = 0 size = 7 }
	set_variable = { 797.party_popularity^0 = 4 }
	set_variable = { 797.party_popularity^1 = 19 }
	set_variable = { 797.party_popularity^2 = 33 }
	set_variable = { 797.party_popularity^3 = 29 }
	set_variable = { 797.party_popularity^4 = 10 }
	set_variable = { 797.party_popularity^5 = 2 }
	set_variable = { 797.party_popularity^6 = 3 }
	
	#Southern Anatolia
	add_to_array = { SLO.subdivision_states = 344 }
	clear_array = 344.subdivision_states
	add_to_array = { 344.subdivision_states = 344 }
	add_to_array = { 344.subdivision_states = 799 }
	add_to_array = { 344.subdivision_states = 348 }
	add_to_array = { 344.subdivision_states = 345 }
	add_to_array = { 344.subdivision_states = 346 }
	clear_array = 344.party_popularity
	resize_array = { array = 344.party_popularity value = 0 size = 7 }
	set_variable = { 344.party_popularity^0 = 2 }
	set_variable = { 344.party_popularity^1 = 12 }
	set_variable = { 344.party_popularity^2 = 26.5 }
	set_variable = { 344.party_popularity^3 = 44.5 }
	set_variable = { 344.party_popularity^4 = 10 }
	set_variable = { 344.party_popularity^5 = 1 }
	set_variable = { 344.party_popularity^6 = 4 }
	
	#Northern Anatolia
	add_to_array = { SLO.subdivision_states = 49 }
	clear_array = 49.subdivision_states
	add_to_array = { 49.subdivision_states = 49 }
	add_to_array = { 49.subdivision_states = 356 }
	add_to_array = { 49.subdivision_states = 798 }
	add_to_array = { 49.subdivision_states = 349 }
	add_to_array = { 49.subdivision_states = 355 }
	add_to_array = { 49.subdivision_states = 354 }
	clear_array = 49.party_popularity
	resize_array = { array = 49.party_popularity value = 0 size = 7 }
	set_variable = { 49.party_popularity^0 = 2 }
	set_variable = { 49.party_popularity^1 = 12 }
	set_variable = { 49.party_popularity^2 = 35 }
	set_variable = { 49.party_popularity^3 = 33 }
	set_variable = { 49.party_popularity^4 = 10 }
	set_variable = { 49.party_popularity^5 = 1 }
	set_variable = { 49.party_popularity^6 = 7 }
	
	#Kurdistan
	add_to_array = { SLO.subdivision_states = 800 }
	clear_array = 800.subdivision_states
	add_to_array = { 800.subdivision_states = 800 }
	add_to_array = { 800.subdivision_states = 353 }
	add_to_array = { 800.subdivision_states = 350 }
	add_to_array = { 800.subdivision_states = 352 }
	clear_array = 800.party_popularity
	resize_array = { array = 800.party_popularity value = 0 size = 7 }
	set_variable = { 800.party_popularity^0 = 6.5 }
	set_variable = { 800.party_popularity^1 = 4.5 }
	set_variable = { 800.party_popularity^2 = 11 }
	set_variable = { 800.party_popularity^3 = 23 }
	set_variable = { 800.party_popularity^4 = 7 }
	set_variable = { 800.party_popularity^5 = 2 }
	set_variable = { 800.party_popularity^6 = 46 }
	
	#Belarus
	add_to_array = { SLO.subdivision_states = 206 }
	clear_array = 206.subdivision_states
	add_to_array = { 206.subdivision_states = 206 }
	add_to_array = { 206.subdivision_states = 96 }
	add_to_array = { 206.subdivision_states = 95 }
	add_to_array = { 206.subdivision_states = 94 }
	add_to_array = { 206.subdivision_states = 204 }
	add_to_array = { 206.subdivision_states = 194 }
	add_to_array = { 206.subdivision_states = 241 }
	add_to_array = { 206.subdivision_states = 207 }
	clear_array = 206.party_popularity
	resize_array = { array = 206.party_popularity value = 0 size = 7 }
	set_variable = { 206.party_popularity^0 = 25 }
	set_variable = { 206.party_popularity^1 = 15.5 }
	set_variable = { 206.party_popularity^2 = 17.5 }
	set_variable = { 206.party_popularity^3 = 26 }
	set_variable = { 206.party_popularity^4 = 10 }
	set_variable = { 206.party_popularity^5 = 1 }
	set_variable = { 206.party_popularity^6 = 5 }
	
	#Western Ukraine
	add_to_array = { SLO.subdivision_states = 202 }
	clear_array = 202.subdivision_states
	add_to_array = { 202.subdivision_states = 202 }
	add_to_array = { 202.subdivision_states = 201 }
	add_to_array = { 202.subdivision_states = 198 }
	add_to_array = { 202.subdivision_states = 199 }
	add_to_array = { 202.subdivision_states = 93 }
	clear_array = 202.party_popularity
	resize_array = { array = 202.party_popularity value = 0 size = 7 }
	set_variable = { 202.party_popularity^0 = 11.5 }
	set_variable = { 202.party_popularity^1 = 15.5 }
	set_variable = { 202.party_popularity^2 = 23 }
	set_variable = { 202.party_popularity^3 = 25 }
	set_variable = { 202.party_popularity^4 = 19 }
	set_variable = { 202.party_popularity^5 = 3 }
	set_variable = { 202.party_popularity^6 = 3 }
	
	#Dniepr - Don Region
	add_to_array = { SLO.subdivision_states = 221 }
	clear_array = 221.subdivision_states
	add_to_array = { 221.subdivision_states = 221 }
	add_to_array = { 221.subdivision_states = 226 }
	add_to_array = { 221.subdivision_states = 203 }
	add_to_array = { 221.subdivision_states = 259 }
	add_to_array = { 221.subdivision_states = 225 }
	add_to_array = { 221.subdivision_states = 193 }
	clear_array = 221.party_popularity
	resize_array = { array = 221.party_popularity value = 0 size = 7 }
	set_variable = { 221.party_popularity^0 = 23.5 }
	set_variable = { 221.party_popularity^1 = 20 }
	set_variable = { 221.party_popularity^2 = 15.5 }
	set_variable = { 221.party_popularity^3 = 22 }
	set_variable = { 221.party_popularity^4 = 14 }
	set_variable = { 221.party_popularity^5 = 3 }
	set_variable = { 221.party_popularity^6 = 2 }
	
	#Tavriya
	add_to_array = { SLO.subdivision_states = 137 }
	clear_array = 137.subdivision_states
	add_to_array = { 137.subdivision_states = 137 }
	add_to_array = { 137.subdivision_states = 196 }
	add_to_array = { 137.subdivision_states = 200 }
	clear_array = 137.party_popularity
	resize_array = { array = 137.party_popularity value = 0 size = 7 }
	set_variable = { 137.party_popularity^0 = 21 }
	set_variable = { 137.party_popularity^1 = 10 }
	set_variable = { 137.party_popularity^2 = 18.5 }
	set_variable = { 137.party_popularity^3 = 26 }
	set_variable = { 137.party_popularity^4 = 14 }
	set_variable = { 137.party_popularity^5 = 4 }
	set_variable = { 137.party_popularity^6 = 6.5 }
	
	#Prychornomoria - Budzhak
	add_to_array = { SLO.subdivision_states = 192 }
	clear_array = 192.subdivision_states
	add_to_array = { 192.subdivision_states = 192 }
	add_to_array = { 192.subdivision_states = 834 }
	add_to_array = { 192.subdivision_states = 197 }
	add_to_array = { 192.subdivision_states = 766 }
	clear_array = 192.party_popularity
	resize_array = { array = 192.party_popularity value = 0 size = 7 }
	set_variable = { 192.party_popularity^0 = 15.5 }
	set_variable = { 192.party_popularity^1 = 19.5 }
	set_variable = { 192.party_popularity^2 = 23 }
	set_variable = { 192.party_popularity^3 = 21 }
	set_variable = { 192.party_popularity^4 = 13 }
	set_variable = { 192.party_popularity^5 = 2 }
	set_variable = { 192.party_popularity^6 = 6 }
	
	#Karelia
	add_to_array = { SLO.subdivision_states = 213 }
	clear_array = 213.subdivision_states
	add_to_array = { 213.subdivision_states = 213 }
	add_to_array = { 213.subdivision_states = 722 }
	add_to_array = { 213.subdivision_states = 147 }
	add_to_array = { 213.subdivision_states = 215 }
	clear_array = 213.party_popularity
	resize_array = { array = 213.party_popularity value = 0 size = 7 }
	set_variable = { 213.party_popularity^0 = 41 }
	set_variable = { 213.party_popularity^1 = 13 }
	set_variable = { 213.party_popularity^2 = 7 }
	set_variable = { 213.party_popularity^3 = 18 }
	set_variable = { 213.party_popularity^4 = 5 }
	set_variable = { 213.party_popularity^5 = 1 }
	set_variable = { 213.party_popularity^6 = 15 }
	
	#Novgorod
	add_to_array = { SLO.subdivision_states = 195 }
	clear_array = 195.subdivision_states
	add_to_array = { 195.subdivision_states = 195 }
	add_to_array = { 195.subdivision_states = 244 }
	add_to_array = { 195.subdivision_states = 264 }
	add_to_array = { 195.subdivision_states = 208 }
	add_to_array = { 195.subdivision_states = 263 }
	add_to_array = { 195.subdivision_states = 209 }
	add_to_array = { 195.subdivision_states = 210 }
	add_to_array = { 195.subdivision_states = 246 }
	add_to_array = { 195.subdivision_states = 247 }
	clear_array = 195.party_popularity
	resize_array = { array = 195.party_popularity value = 0 size = 7 }
	set_variable = { 195.party_popularity^0 = 48 }
	set_variable = { 195.party_popularity^1 = 22 }
	set_variable = { 195.party_popularity^2 = 4 }
	set_variable = { 195.party_popularity^3 = 19 }
	set_variable = { 195.party_popularity^4 = 4 }
	set_variable = { 195.party_popularity^5 = 1 }
	set_variable = { 195.party_popularity^6 = 2 }
	
	#Central Russia
	add_to_array = { SLO.subdivision_states = 219 }
	clear_array = 219.subdivision_states
	add_to_array = { 219.subdivision_states = 219 }
	add_to_array = { 219.subdivision_states = 248 }
	add_to_array = { 219.subdivision_states = 253 }
	add_to_array = { 219.subdivision_states = 254 }
	add_to_array = { 219.subdivision_states = 205 }
	add_to_array = { 219.subdivision_states = 223 }
	add_to_array = { 219.subdivision_states = 242 }
	add_to_array = { 219.subdivision_states = 243 }
	add_to_array = { 219.subdivision_states = 224 }
	add_to_array = { 219.subdivision_states = 222 }
	add_to_array = { 219.subdivision_states = 258 }
	add_to_array = { 219.subdivision_states = 240 }
	add_to_array = { 219.subdivision_states = 220 }
	clear_array = 219.party_popularity
	resize_array = { array = 219.party_popularity value = 0 size = 7 }
	set_variable = { 219.party_popularity^0 = 52 }
	set_variable = { 219.party_popularity^1 = 18 }
	set_variable = { 219.party_popularity^2 = 4 }
	set_variable = { 219.party_popularity^3 = 19 }
	set_variable = { 219.party_popularity^4 = 4 }
	set_variable = { 219.party_popularity^5 = 1 }
	set_variable = { 219.party_popularity^6 = 2 }
	
	#Don Basin Region
	add_to_array = { SLO.subdivision_states = 218 }
	clear_array = 218.subdivision_states
	add_to_array = { 218.subdivision_states = 218 }
	add_to_array = { 218.subdivision_states = 227 }
	add_to_array = { 218.subdivision_states = 228 }
	add_to_array = { 218.subdivision_states = 234 }
	add_to_array = { 218.subdivision_states = 245 }
	add_to_array = { 218.subdivision_states = 233 }
	add_to_array = { 218.subdivision_states = 260 }
	add_to_array = { 218.subdivision_states = 265 }
	clear_array = 218.party_popularity
	resize_array = { array = 218.party_popularity value = 0 size = 7 }
	set_variable = { 218.party_popularity^0 = 28.5 }
	set_variable = { 218.party_popularity^1 = 15 }
	set_variable = { 218.party_popularity^2 = 9.5 }
	set_variable = { 218.party_popularity^3 = 23 }
	set_variable = { 218.party_popularity^4 = 16 }
	set_variable = { 218.party_popularity^5 = 2.5 }
	set_variable = { 218.party_popularity^6 = 5.5 }
	
	#South Caucuses
	add_to_array = { SLO.subdivision_states = 229 }
	clear_array = 229.subdivision_states
	add_to_array = { 229.subdivision_states = 229 }
	add_to_array = { 229.subdivision_states = 230 }
	add_to_array = { 229.subdivision_states = 231 }
	add_to_array = { 229.subdivision_states = 826 }
	clear_array = 229.party_popularity
	resize_array = { array = 229.party_popularity value = 0 size = 7 }
	set_variable = { 229.party_popularity^0 = 18.5 }
	set_variable = { 229.party_popularity^1 = 10.5 }
	set_variable = { 229.party_popularity^2 = 23 }
	set_variable = { 229.party_popularity^3 = 15 }
	set_variable = { 229.party_popularity^4 = 6 }
	set_variable = { 229.party_popularity^5 = 2 }
	set_variable = { 229.party_popularity^6 = 25 }
	
	#North Caucuses
	add_to_array = { SLO.subdivision_states = 232 }
	clear_array = 232.subdivision_states
	add_to_array = { 232.subdivision_states = 232 }
	add_to_array = { 232.subdivision_states = 821 }
	add_to_array = { 232.subdivision_states = 828 }
	add_to_array = { 232.subdivision_states = 827 }
	add_to_array = { 232.subdivision_states = 235 }
	clear_array = 232.party_popularity
	resize_array = { array = 232.party_popularity value = 0 size = 7 }
	set_variable = { 232.party_popularity^0 = 12 }
	set_variable = { 232.party_popularity^1 = 11 }
	set_variable = { 232.party_popularity^2 = 23 }
	set_variable = { 232.party_popularity^3 = 15 }
	set_variable = { 232.party_popularity^4 = 7 }
	set_variable = { 232.party_popularity^5 = 2 }
	set_variable = { 232.party_popularity^6 = 30 }
	
	#Volga Basin Region
	add_to_array = { SLO.subdivision_states = 217 }
	clear_array = 217.subdivision_states
	add_to_array = { 217.subdivision_states = 217 }
	add_to_array = { 217.subdivision_states = 236 }
	add_to_array = { 217.subdivision_states = 237 }
	add_to_array = { 217.subdivision_states = 238 }
	clear_array = 217.party_popularity
	resize_array = { array = 217.party_popularity value = 0 size = 7 }
	set_variable = { 217.party_popularity^0 = 33 }
	set_variable = { 217.party_popularity^1 = 15 }
	set_variable = { 217.party_popularity^2 = 12 }
	set_variable = { 217.party_popularity^3 = 25 }
	set_variable = { 217.party_popularity^4 = 5 }
	set_variable = { 217.party_popularity^5 = 2 }
	set_variable = { 217.party_popularity^6 = 8 }
	
	#Volga Region
	add_to_array = { SLO.subdivision_states = 252 }
	clear_array = 252.subdivision_states
	add_to_array = { 252.subdivision_states = 252 }
	add_to_array = { 252.subdivision_states = 256 }
	add_to_array = { 252.subdivision_states = 833 }
	add_to_array = { 252.subdivision_states = 249 }
	add_to_array = { 252.subdivision_states = 251 }
	add_to_array = { 252.subdivision_states = 250 }
	add_to_array = { 252.subdivision_states = 255 }
	add_to_array = { 252.subdivision_states = 257 }
	add_to_array = { 252.subdivision_states = 239 }
	add_to_array = { 252.subdivision_states = 829 }
	add_to_array = { 252.subdivision_states = 401 }	
	clear_array = 252.party_popularity
	resize_array = { array = 252.party_popularity value = 0 size = 7 }
	set_variable = { 252.party_popularity^0 = 38.5 }
	set_variable = { 252.party_popularity^1 = 16 }
	set_variable = { 252.party_popularity^2 = 11.5 }
	set_variable = { 252.party_popularity^3 = 23 }
	set_variable = { 252.party_popularity^4 = 5 }
	set_variable = { 252.party_popularity^5 = 1 }
	set_variable = { 252.party_popularity^6 = 5 }
	
	#Urals
	add_to_array = { SLO.subdivision_states = 651 }
	clear_array = 651.subdivision_states
	add_to_array = { 651.subdivision_states = 651 }
	add_to_array = { 651.subdivision_states = 398 }
	add_to_array = { 651.subdivision_states = 573 }
	add_to_array = { 651.subdivision_states = 582 }
	add_to_array = { 651.subdivision_states = 652 }
	add_to_array = { 651.subdivision_states = 399 }
	add_to_array = { 651.subdivision_states = 400 }
	clear_array = 651.party_popularity
	resize_array = { array = 651.party_popularity value = 0 size = 7 }
	set_variable = { 651.party_popularity^0 = 30 }
	set_variable = { 651.party_popularity^1 = 12 }
	set_variable = { 651.party_popularity^2 = 16 }
	set_variable = { 651.party_popularity^3 = 20 }
	set_variable = { 651.party_popularity^4 = 5 }
	set_variable = { 651.party_popularity^5 = 2 }
	set_variable = { 651.party_popularity^6 = 15 }
	
	#Barents Region
	add_to_array = { SLO.subdivision_states = 214 }
	clear_array = 214.subdivision_states
	add_to_array = { 214.subdivision_states = 214 }
	add_to_array = { 214.subdivision_states = 216 }
	add_to_array = { 214.subdivision_states = 879 }
	add_to_array = { 214.subdivision_states = 351 }
	add_to_array = { 214.subdivision_states = 880 }
	clear_array = 214.party_popularity
	resize_array = { array = 214.party_popularity value = 0 size = 7 }
	set_variable = { 214.party_popularity^0 = 38 }
	set_variable = { 214.party_popularity^1 = 19 }
	set_variable = { 214.party_popularity^2 = 14 }
	set_variable = { 214.party_popularity^3 = 17 }
	set_variable = { 214.party_popularity^4 = 4 }
	set_variable = { 214.party_popularity^5 = 2 }
	set_variable = { 214.party_popularity^6 = 6 }
	
	if = {
		limit = { check_variable = { SLO.language = 0 } }
		set_variable = { SLO.party_names_long_no_colour_array^0 = token:EUROPE_communist_party_long_no_colour_LANG_SLO_idea }
		set_variable = { SLO.party_names_long_no_colour_array^1 = token:EUROPE_soc_dem_party_long_no_colour_LANG_SLO_idea }
		set_variable = { SLO.party_names_long_no_colour_array^2 = token:EUROPE_liberal_party_long_no_colour_LANG_SLO_idea }
		set_variable = { SLO.party_names_long_no_colour_array^3 = token:EUROPE_conservative_party_long_no_colour_LANG_SLO_idea }
		set_variable = { SLO.party_names_long_no_colour_array^4 = token:EUROPE_nationalist_party_long_no_colour_LANG_SLO_idea }
		set_variable = { SLO.party_names_long_no_colour_array^5 = token:EUROPE_fascist_party_long_no_colour_LANG_SLO_idea }
		set_variable = { SLO.party_names_long_no_colour_array^6 = token:EUROPE_non_aligned_other_party_long_no_colour_LANG_SLO_idea }
		
		set_variable = { SLO.party_names_long_coloured_array^0 = token:EUROPE_communist_party_long_coloured_LANG_SLO_idea }
		set_variable = { SLO.party_names_long_coloured_array^1 = token:EUROPE_soc_dem_party_long_coloured_LANG_SLO_idea }
		set_variable = { SLO.party_names_long_coloured_array^2 = token:EUROPE_liberal_party_long_coloured_LANG_SLO_idea }
		set_variable = { SLO.party_names_long_coloured_array^3 = token:EUROPE_conservative_party_long_coloured_LANG_SLO_idea }
		set_variable = { SLO.party_names_long_coloured_array^4 = token:EUROPE_nationalist_party_long_coloured_LANG_SLO_idea }
		set_variable = { SLO.party_names_long_coloured_array^5 = token:EUROPE_fascist_party_long_coloured_LANG_SLO_idea }
		set_variable = { SLO.party_names_long_coloured_array^6 = token:EUROPE_non_aligned_other_party_long_coloured_LANG_SLO_idea }
		
		set_variable = { SLO.party_names_short_no_colour_array^0 = token:EUROPE_communist_party_short_no_colour_LANG_SLO_idea }
		set_variable = { SLO.party_names_short_no_colour_array^1 = token:EUROPE_soc_dem_party_short_no_colour_LANG_SLO_idea }
		set_variable = { SLO.party_names_short_no_colour_array^2 = token:EUROPE_liberal_party_short_no_colour_LANG_SLO_idea }
		set_variable = { SLO.party_names_short_no_colour_array^3 = token:EUROPE_conservative_party_short_no_colour_LANG_SLO_idea }
		set_variable = { SLO.party_names_short_no_colour_array^4 = token:EUROPE_nationalist_party_short_no_colour_LANG_SLO_idea }
		set_variable = { SLO.party_names_short_no_colour_array^5 = token:EUROPE_fascist_party_short_no_colour_LANG_SLO_idea }
		set_variable = { SLO.party_names_short_no_colour_array^6 = token:EUROPE_non_aligned_other_party_short_no_colour_LANG_SLO_idea }
		
		set_variable = { SLO.party_names_short_coloured_array^0 = token:EUROPE_communist_party_short_coloured_LANG_SLO_idea }
		set_variable = { SLO.party_names_short_coloured_array^1 = token:EUROPE_soc_dem_party_short_coloured_LANG_SLO_idea }
		set_variable = { SLO.party_names_short_coloured_array^2 = token:EUROPE_liberal_party_short_coloured_LANG_SLO_idea }
		set_variable = { SLO.party_names_short_coloured_array^3 = token:EUROPE_conservative_party_short_coloured_LANG_SLO_idea }
		set_variable = { SLO.party_names_short_coloured_array^4 = token:EUROPE_nationalist_party_short_coloured_LANG_SLO_idea }
		set_variable = { SLO.party_names_short_coloured_array^5 = token:EUROPE_fascist_party_short_coloured_LANG_SLO_idea }
		set_variable = { SLO.party_names_short_coloured_array^6 = token:EUROPE_non_aligned_other_party_short_coloured_LANG_SLO_idea }
	}
	else = {
		set_variable = { SLO.party_names_long_no_colour_array^0 = token:EUROPE_communist_party_long_no_colour_LANG_ENG_idea }
		set_variable = { SLO.party_names_long_no_colour_array^1 = token:EUROPE_soc_dem_party_long_no_colour_LANG_ENG_idea }
		set_variable = { SLO.party_names_long_no_colour_array^2 = token:EUROPE_liberal_party_long_no_colour_LANG_ENG_idea }
		set_variable = { SLO.party_names_long_no_colour_array^3 = token:EUROPE_conservative_party_long_no_colour_LANG_ENG_idea }
		set_variable = { SLO.party_names_long_no_colour_array^4 = token:EUROPE_nationalist_party_long_no_colour_LANG_ENG_idea }
		set_variable = { SLO.party_names_long_no_colour_array^5 = token:EUROPE_fascist_party_long_no_colour_LANG_ENG_idea }
		set_variable = { SLO.party_names_long_no_colour_array^6 = token:EUROPE_non_aligned_other_party_long_no_colour_LANG_ENG_idea }
		
		set_variable = { SLO.party_names_long_coloured_array^0 = token:EUROPE_communist_party_long_coloured_LANG_ENG_idea }
		set_variable = { SLO.party_names_long_coloured_array^1 = token:EUROPE_soc_dem_party_long_coloured_LANG_ENG_idea }
		set_variable = { SLO.party_names_long_coloured_array^2 = token:EUROPE_liberal_party_long_coloured_LANG_ENG_idea }
		set_variable = { SLO.party_names_long_coloured_array^3 = token:EUROPE_conservative_party_long_coloured_LANG_ENG_idea }
		set_variable = { SLO.party_names_long_coloured_array^4 = token:EUROPE_nationalist_party_long_coloured_LANG_ENG_idea }
		set_variable = { SLO.party_names_long_coloured_array^5 = token:EUROPE_fascist_party_long_coloured_LANG_ENG_idea }
		set_variable = { SLO.party_names_long_coloured_array^6 = token:EUROPE_non_aligned_other_party_long_coloured_LANG_ENG_idea }
		
		set_variable = { SLO.party_names_short_no_colour_array^0 = token:EUROPE_communist_party_short_no_colour_LANG_ENG_idea }
		set_variable = { SLO.party_names_short_no_colour_array^1 = token:EUROPE_soc_dem_party_short_no_colour_LANG_ENG_idea }
		set_variable = { SLO.party_names_short_no_colour_array^2 = token:EUROPE_liberal_party_short_no_colour_LANG_ENG_idea }
		set_variable = { SLO.party_names_short_no_colour_array^3 = token:EUROPE_conservative_party_short_no_colour_LANG_ENG_idea }
		set_variable = { SLO.party_names_short_no_colour_array^4 = token:EUROPE_nationalist_party_short_no_colour_LANG_ENG_idea }
		set_variable = { SLO.party_names_short_no_colour_array^5 = token:EUROPE_fascist_party_short_no_colour_LANG_ENG_idea }
		set_variable = { SLO.party_names_short_no_colour_array^6 = token:EUROPE_non_aligned_other_party_short_no_colour_LANG_ENG_idea }
		
		set_variable = { SLO.party_names_short_coloured_array^0 = token:EUROPE_communist_party_short_coloured_LANG_ENG_idea }
		set_variable = { SLO.party_names_short_coloured_array^1 = token:EUROPE_soc_dem_party_short_coloured_LANG_ENG_idea }
		set_variable = { SLO.party_names_short_coloured_array^2 = token:EUROPE_liberal_party_short_coloured_LANG_ENG_idea }
		set_variable = { SLO.party_names_short_coloured_array^3 = token:EUROPE_conservative_party_short_coloured_LANG_ENG_idea }
		set_variable = { SLO.party_names_short_coloured_array^4 = token:EUROPE_nationalist_party_short_coloured_LANG_ENG_idea }
		set_variable = { SLO.party_names_short_coloured_array^5 = token:EUROPE_fascist_party_short_coloured_LANG_ENG_idea }
		set_variable = { SLO.party_names_short_coloured_array^6 = token:EUROPE_non_aligned_other_party_short_coloured_LANG_ENG_idea }
	}
	if = {
		limit = { check_variable = { SLO.language = 0 } }
		
		for_each_loop = {
			array = SLO.subdivision_states 
			index = i
			value = v
			
			meta_effect = {
				text = {
					[STATE_ID] = {
#						set_variable = { overlay_token = token:SLO_GFX_elections_europe_[STATE_ID]_OVERLAY_idea }
#						set_variable = { progressbar_token = token:SLO_GFX_elections_europe_[STATE_ID]_PROGRESSBAR_idea }
						set_variable = { name_token = token:SLO_NAME_elections_europe_[STATE_ID]_LANG_SLO_idea }
					}
				}
				
				STATE_ID = "[?v|.0]"
				debug = yes
			}
		}
		
		set_variable = { 70.name_token = token:SLO_NAME_elections_slovakia_70_LANG_SLO_idea }
	}
	else = {
		for_each_loop = {
			array = SLO.subdivision_states 
			index = i
			value = v
			
			meta_effect = {
				text = {
					[STATE_ID] = {
#						set_variable = { overlay_token = token:SLO_GFX_elections_europe_[STATE_ID]_OVERLAY_idea }
#						set_variable = { progressbar_token = token:SLO_GFX_elections_europe_[STATE_ID]_PROGRESSBAR_idea }
						set_variable = { name_token = token:SLO_NAME_elections_europe_[STATE_ID]_LANG_ENG_idea }
					}
				}
				
				STATE_ID = "[?v|.0]"
				debug = yes
			}
		}
		
		set_variable = { 70.name_token = token:SLO_NAME_elections_slovakia_70_LANG_ENG_idea }
	}
}


SLO_update_GFX_SLO_to_Europe = {
	clear_variable = 70.x0
	clear_variable = 70.y0
	clear_variable = 70.x1
	clear_variable = 70.y1
	clear_variable = 70.x_pos
	clear_variable = 70.y_pos
#	clear_variable = 70.overlay_token
#	clear_variable = 70.progressbar_token
#	clear_variable = 70.name_token
	
	clear_variable = 70.seat_count
	clear_variable = 70.previous_election_seat_count
	clear_variable = 70.previous_election_turnout
	clear_variable = 70.previous_election_victor_popularity
	clear_array = 70.previous_election_results
	clear_array = 70.previous_election_votes
	clear_array = 70.previous_election_party_position
	clear_array = 70.previous_election_position_party
	
	clear_variable = 71.x0
	clear_variable = 71.y0
	clear_variable = 71.x1
	clear_variable = 71.y1
	clear_variable = 71.x_pos
	clear_variable = 71.y_pos
	clear_variable = 71.overlay_token
	clear_variable = 71.progressbar_token
	clear_variable = 71.name_token
	
	clear_variable = 71.seat_count
	clear_variable = 71.previous_election_seat_count
	clear_variable = 71.previous_election_turnout
	clear_variable = 71.previous_election_victor_popularity
	clear_array = 71.previous_election_results
	clear_array = 71.previous_election_votes
	clear_array = 71.previous_election_party_position
	clear_array = 71.previous_election_position_party
	clear_array = 71.party_popularity
	
	clear_variable = 73.x0
	clear_variable = 73.y0
	clear_variable = 73.x1
	clear_variable = 73.y1
	clear_variable = 73.x_pos
	clear_variable = 73.y_pos
	clear_variable = 73.overlay_token
	clear_variable = 73.progressbar_token
	clear_variable = 73.name_token
	
	clear_variable = 73.seat_count
	clear_variable = 73.previous_election_seat_count
	clear_variable = 73.previous_election_turnout
	clear_variable = 73.previous_election_victor_popularity
	clear_array = 73.previous_election_results
	clear_array = 73.previous_election_votes
	clear_array = 73.previous_election_party_position
	clear_array = 73.previous_election_position_party
	clear_array = 73.party_popularity
	
	clear_variable = 664.x0
	clear_variable = 664.y0
	clear_variable = 664.x1
	clear_variable = 664.y1
	clear_variable = 664.x_pos
	clear_variable = 664.y_pos
	clear_variable = 664.overlay_token
	clear_variable = 664.progressbar_token
	clear_variable = 664.name_token
	
	clear_variable = 664.seat_count
	clear_variable = 664.previous_election_seat_count
	clear_variable = 664.previous_election_turnout
	clear_variable = 664.previous_election_victor_popularity
	clear_array = 664.previous_election_results
	clear_array = 664.previous_election_votes
	clear_array = 664.previous_election_party_position
	clear_array = 664.previous_election_position_party
	clear_array = 664.party_popularity
	
	set_variable = { 100.x0 = 0 }
	set_variable = { 100.y0 = 0 }
	set_variable = { 100.x1 = 257 }
	set_variable = { 100.y1 = 133 }
	
	set_variable = { 178.x0 = 121 }
	set_variable = { 178.y0 = 357 }
	set_variable = { 178.x1 = 185 }
	set_variable = { 178.y1 = 418 }
	
	set_variable = { 121.x0 = 235 }
	set_variable = { 121.y0 = 138 }
	set_variable = { 121.x1 = 294 }
	set_variable = { 121.y1 = 217 }
	
	set_variable = { 113.x0 = 209 }
	set_variable = { 113.y0 = 207 }
	set_variable = { 113.x1 = 254 }
	set_variable = { 113.y1 = 253 }
	
	set_variable = { 132.x0 = 258 }
	set_variable = { 132.y0 = 201 }
	set_variable = { 132.x1 = 301 }
	set_variable = { 132.y1 = 236 }
	
	set_variable = { 128.x0 = 254 }
	set_variable = { 128.y0 = 226 }
	set_variable = { 128.x1 = 303 }
	set_variable = { 128.y1 = 254 }
	
	set_variable = { 126.x0 = 250 }
	set_variable = { 126.y0 = 234 }
	set_variable = { 126.x1 = 315 }
	set_variable = { 126.y1 = 269 }
	
	set_variable = { 37.x0 = 373 }
	set_variable = { 37.y0 = 184 }
	set_variable = { 37.x1 = 434 }
	set_variable = { 37.y1 = 224 }
	
	set_variable = { 7.x0 = 326 }
	set_variable = { 7.y0 = 235 }
	set_variable = { 7.x1 = 397 }
	set_variable = { 7.y1 = 270 }
	
	set_variable = { 112.x0 = 223 }
	set_variable = { 112.y0 = 359 }
	set_variable = { 112.x1 = 252 }
	set_variable = { 112.y1 = 411 }
	
	set_variable = { 118.x0 = 240 }
	set_variable = { 118.y0 = 386 }
	set_variable = { 118.x1 = 299 }
	set_variable = { 118.y1 = 421 }
	
	set_variable = { 165.x0 = 286 }
	set_variable = { 165.y0 = 350 }
	set_variable = { 165.x1 = 342 }
	set_variable = { 165.y1 = 402 }
	
	set_variable = { 41.x0 = 241 }
	set_variable = { 41.y0 = 366 }
	set_variable = { 41.x1 = 296 }
	set_variable = { 41.y1 = 402 }
	
	set_variable = { 171.x0 = 225 }
	set_variable = { 171.y0 = 341 }
	set_variable = { 171.x1 = 291 }
	set_variable = { 171.y1 = 375 }
	
	set_variable = { 792.x0 = 275 }
	set_variable = { 792.y0 = 339 }
	set_variable = { 792.x1 = 304 }
	set_variable = { 792.y1 = 362 }
	
	set_variable = { 19.x0 = 264 }
	set_variable = { 19.y0 = 287 }
	set_variable = { 19.x1 = 313 }
	set_variable = { 19.y1 = 342 }
	
	set_variable = { 16.x0 = 288 }
	set_variable = { 16.y0 = 262 }
	set_variable = { 16.x1 = 341 }
	set_variable = { 16.y1 = 323 }
	
	set_variable = { 28.x0 = 328 }
	set_variable = { 28.y0 = 264 }
	set_variable = { 28.x1 = 375 }
	set_variable = { 28.y1 = 315 }
	
	set_variable = { 31.x0 = 298 }
	set_variable = { 31.y0 = 310 }
	set_variable = { 31.x1 = 346 }
	set_variable = { 31.y1 = 357 }
	
	set_variable = { 20.x0 = 333 }
	set_variable = { 20.y0 = 309 }
	set_variable = { 20.x1 = 387 }
	set_variable = { 20.y1 = 367 }
	
	set_variable = { 51.x0 = 352 }
	set_variable = { 51.y0 = 246 }
	set_variable = { 51.x1 = 392 }
	set_variable = { 51.y1 = 288 }
	
	set_variable = { 50.x0 = 368 }
	set_variable = { 50.y0 = 278 }
	set_variable = { 50.x1 = 395 }
	set_variable = { 50.y1 = 304 }
	
	set_variable = { 52.x0 = 381 }
	set_variable = { 52.y0 = 265 }
	set_variable = { 52.x1 = 423 }
	set_variable = { 52.y1 = 306 }
	
	set_variable = { 58.x0 = 361 }
	set_variable = { 58.y0 = 217 }
	set_variable = { 58.x1 = 403 }
	set_variable = { 58.y1 = 259 }
	
	set_variable = { 64.x0 = 389 }
	set_variable = { 64.y0 = 224 }
	set_variable = { 64.x1 = 433 }
	set_variable = { 64.y1 = 271 }
	
	set_variable = { 63.x0 = 410 }
	set_variable = { 63.y0 = 219 }
	set_variable = { 63.x1 = 461 }
	set_variable = { 63.y1 = 258 }
	
	set_variable = { 66.x0 = 430 }
	set_variable = { 66.y0 = 250 }
	set_variable = { 66.x1 = 469 }
	set_variable = { 66.y1 = 279 }
	
	set_variable = { 9.x0 = 414 }
	set_variable = { 9.y0 = 265 }
	set_variable = { 9.x1 = 462 }
	set_variable = { 9.y1 = 289 }
	
	set_variable = { 69.x0 = 407 }
	set_variable = { 69.y0 = 260 }
	set_variable = { 69.x1 = 449 }
	set_variable = { 69.y1 = 291 }
	
	set_variable = { 70.x0 = 447 }
	set_variable = { 70.y0 = 279 }
	set_variable = { 70.x1 = 514 }
	set_variable = { 70.y1 = 301 }
	
	set_variable = { 3.x0 = 355 }
	set_variable = { 3.y0 = 301 }
	set_variable = { 3.x1 = 395 }
	set_variable = { 3.y1 = 321 }
	
	set_variable = { 4.x0 = 385 }
	set_variable = { 4.y0 = 285 }
	set_variable = { 4.x1 = 449 }
	set_variable = { 4.y1 = 320 }
	
	set_variable = { 159.x0 = 361 }
	set_variable = { 159.y0 = 311 }
	set_variable = { 159.x1 = 428 }
	set_variable = { 159.y1 = 343 }
	
	set_variable = { 2.x0 = 386 }
	set_variable = { 2.y0 = 334 }
	set_variable = { 2.x1 = 434 }
	set_variable = { 2.y1 = 369 }
	
	set_variable = { 117.x0 = 373 }
	set_variable = { 117.y0 = 360 }
	set_variable = { 117.x1 = 463 }
	set_variable = { 117.y1 = 424 }
	
	set_variable = { 43.x0 = 440 }
	set_variable = { 43.y0 = 290 }
	set_variable = { 43.x1 = 500 }
	set_variable = { 43.y1 = 322 }
	
	set_variable = { 102.x0 = 421 }
	set_variable = { 102.y0 = 309 }
	set_variable = { 102.x1 = 448 }
	set_variable = { 102.y1 = 326 }
	
	set_variable = { 10.x0 = 438 }
	set_variable = { 10.y0 = 219 }
	set_variable = { 10.x1 = 510 }
	set_variable = { 10.y1 = 273 }
	
	set_variable = { 88.x0 = 459 }
	set_variable = { 88.y0 = 266 }
	set_variable = { 88.x1 = 531 }
	set_variable = { 88.y1 = 301 }
	
	set_variable = { 763.x0 = 460 }
	set_variable = { 763.y0 = 213 }
	set_variable = { 763.x1 = 500 }
	set_variable = { 763.y1 = 239 }
	
	set_variable = { 784.x0 = 482 }
	set_variable = { 784.y0 = 200 }
	set_variable = { 784.x1 = 532 }
	set_variable = { 784.y1 = 231 }
	
	set_variable = { 808.x0 = 482 }
	set_variable = { 808.y0 = 180 }
	set_variable = { 808.x1 = 545 }
	set_variable = { 808.y1 = 212 }
	
	set_variable = { 812.x0 = 490 }
	set_variable = { 812.y0 = 160 }
	set_variable = { 812.x1 = 544 }
	set_variable = { 812.y1 = 189 }
	
	set_variable = { 109.x0 = 419 }
	set_variable = { 109.y0 = 315 }
	set_variable = { 109.x1 = 478 }
	set_variable = { 109.y1 = 357 }
	
	set_variable = { 104.x0 = 438 }
	set_variable = { 104.y0 = 326 }
	set_variable = { 104.x1 = 472 }
	set_variable = { 104.y1 = 352 }
	
	set_variable = { 107.x0 = 460 }
	set_variable = { 107.y0 = 316 }
	set_variable = { 107.x1 = 501 }
	set_variable = { 107.y1 = 363 }
	
	set_variable = { 44.x0 = 468 }
	set_variable = { 44.y0 = 348 }
	set_variable = { 44.x1 = 491 }
	set_variable = { 44.y1 = 385 }
	
	set_variable = { 731.x0 = 479 }
	set_variable = { 731.y0 = 357 }
	set_variable = { 731.x1 = 532 }
	set_variable = { 731.y1 = 382 }
	
	set_variable = { 47.x0 = 470 }
	set_variable = { 47.y0 = 370 }
	set_variable = { 47.x1 = 600 }
	set_variable = { 47.y1 = 435 }
	
	set_variable = { 48.x0 = 494 }
	set_variable = { 48.y0 = 337 }
	set_variable = { 48.x1 = 544 }
	set_variable = { 48.y1 = 368 }
	
	set_variable = { 46.x0 = 495 }
	set_variable = { 46.y0 = 322 }
	set_variable = { 46.x1 = 544 }
	set_variable = { 46.y1 = 343 }
	
	set_variable = { 971.x0 = 529 }
	set_variable = { 971.y0 = 324 }
	set_variable = { 971.x1 = 558 }
	set_variable = { 971.y1 = 347 }
	
	set_variable = { 76.x0 = 477 }
	set_variable = { 76.y0 = 296 }
	set_variable = { 76.x1 = 531 }
	set_variable = { 76.y1 = 335 }
	
	set_variable = { 79.x0 = 516 }
	set_variable = { 79.y0 = 289 }
	set_variable = { 79.x1 = 551 }
	set_variable = { 79.y1 = 328 }
	
	set_variable = { 110.x0 = 345 }
	set_variable = { 110.y0 = 59 }
	set_variable = { 110.x1 = 434 }
	set_variable = { 110.y1 = 182 }
	
	set_variable = { 141.x0 = 399 }
	set_variable = { 141.y0 = 141 }
	set_variable = { 141.x1 = 470 }
	set_variable = { 141.y1 = 215 }
	
	set_variable = { 38.x0 = 406 }
	set_variable = { 38.y0 = 62 }
	set_variable = { 38.x1 = 489 }
	set_variable = { 38.y1 = 159 }
	
	set_variable = { 111.x0 = 471 }
	set_variable = { 111.y0 = 65 }
	set_variable = { 111.x1 = 585 }
	set_variable = { 111.y1 = 160 }
	
	set_variable = { 666.x0 = 413 }
	set_variable = { 666.y0 = 0 }
	set_variable = { 666.x1 = 569 }
	set_variable = { 666.y1 = 88 }
	
	set_variable = { 797.x0 = 522 }
	set_variable = { 797.y0 = 358 }
	set_variable = { 797.x1 = 586 }
	set_variable = { 797.y1 = 420 }
	
	set_variable = { 344.x0 = 562 }
	set_variable = { 344.y0 = 387 }
	set_variable = { 344.x1 = 639 }
	set_variable = { 344.y1 = 423 }
	
	set_variable = { 49.x0 = 559 }
	set_variable = { 49.y0 = 359 }
	set_variable = { 49.x1 = 677 }
	set_variable = { 49.y1 = 399 }
	
	set_variable = { 800.x0 = 626 }
	set_variable = { 800.y0 = 378 }
	set_variable = { 800.x1 = 685 }
	set_variable = { 800.y1 = 415 }
	
	set_variable = { 206.x0 = 501 }
	set_variable = { 206.y0 = 204 }
	set_variable = { 206.x1 = 582 }
	set_variable = { 206.y1 = 264 }
	
	set_variable = { 202.x0 = 505 }
	set_variable = { 202.y0 = 257 }
	set_variable = { 202.x1 = 578 }
	set_variable = { 202.y1 = 297 }
	
	set_variable = { 221.x0 = 556 }
	set_variable = { 221.y0 = 250 }
	set_variable = { 221.x1 = 629 }
	set_variable = { 221.y1 = 304 }
	
	set_variable = { 137.x0 = 572 }
	set_variable = { 137.y0 = 296 }
	set_variable = { 137.x1 = 621 }
	set_variable = { 137.y1 = 336 }
	
	set_variable = { 192.x0 = 544 }
	set_variable = { 192.y0 = 290 }
	set_variable = { 192.x1 = 288 }
	set_variable = { 192.y1 = 327 }
	
	set_variable = { 213.x0 = 546 }
	set_variable = { 213.y0 = 17 }
	set_variable = { 213.x1 = 657 }
	set_variable = { 213.y1 = 125 }
	
	set_variable = { 195.x0 = 538 }
	set_variable = { 195.y0 = 143 }
	set_variable = { 195.x1 = 630 }
	set_variable = { 195.y1 = 213 }
	
	set_variable = { 219.x0 = 566 }
	set_variable = { 219.y0 = 169 }
	set_variable = { 219.x1 = 677 }
	set_variable = { 219.y1 = 279 }
	
	set_variable = { 218.x0 = 615 }
	set_variable = { 218.y0 = 253 }
	set_variable = { 218.x1 = 689 }
	set_variable = { 218.y1 = 350 }
	
	set_variable = { 229.x0 = 645 }
	set_variable = { 229.y0 = 343 }
	set_variable = { 229.x1 = 733 }
	set_variable = { 229.y1 = 398 }
	
	set_variable = { 232.x0 = 651 }
	set_variable = { 232.y0 = 318 }
	set_variable = { 232.x1 = 719 }
	set_variable = { 232.y1 = 369 }
	
	set_variable = { 217.x0 = 644 }
	set_variable = { 217.y0 = 278 }
	set_variable = { 217.x1 = 725 }
	set_variable = { 217.y1 = 333 }
	
	set_variable = { 252.x0 = 643 }
	set_variable = { 252.y0 = 184 }
	set_variable = { 252.x1 = 765 }
	set_variable = { 252.y1 = 283 }
	
	set_variable = { 651.x0 = 685 }
	set_variable = { 651.y0 = 125 }
	set_variable = { 651.x1 = 828 }
	set_variable = { 651.y1 = 271 }
	
	set_variable = { 214.x0 = 576 }
	set_variable = { 214.y0 = 64 }
	set_variable = { 214.x1 = 709 }
	set_variable = { 214.y1 = 190 }
	
	if = {
		limit = { check_variable = { SLO.language = 0 } }
		
		for_each_loop = {
			array = SLO.subdivision_states 
			index = i
			value = v
			
			meta_effect = {
				text = {
					[STATE_ID] = {
						set_variable = { overlay_token = token:SLO_GFX_elections_europe_[STATE_ID]_OVERLAY_idea }
						set_variable = { progressbar_token = token:SLO_GFX_elections_europe_[STATE_ID]_PROGRESSBAR_idea }
#						set_variable = { name_token = token:SLO_NAME_elections_europe_[STATE_ID]_LANG_SLO_idea }
					}
				}
				
				STATE_ID = "[?v|.0]"
				debug = yes
			}
		}
		
		set_variable = { 70.name_token = token:SLO_NAME_elections_europe_70_LANG_SLO_idea }
	}
	else = {
		for_each_loop = {
			array = SLO.subdivision_states 
			index = i
			value = v
			
			meta_effect = {
				text = {
					[STATE_ID] = {
						set_variable = { overlay_token = token:SLO_GFX_elections_europe_[STATE_ID]_OVERLAY_idea }
						set_variable = { progressbar_token = token:SLO_GFX_elections_europe_[STATE_ID]_PROGRESSBAR_idea }
#						set_variable = { name_token = token:SLO_NAME_elections_europe_[STATE_ID]_LANG_ENG_idea }
					}
				}
				
				STATE_ID = "[?v|.0]"
				debug = yes
			}
		}
		
		set_variable = { 70.name_token = token:SLO_NAME_elections_europe_70_LANG_ENG_idea }
	}
}

SLO_get_states_to_campaign_in = {
	if = {
		limit = { check_variable = { var = SLO.selected_states_for_campaigns^SLO.party_campaigning_as value = 0 compare = not_equals } }
		set_variable = { player_state = SLO.selected_states_for_campaigns^SLO.party_campaigning_as }
	}
	
	clear_array = SLO.selected_states_for_campaigns
	resize_array = { array = SLO.selected_states_for_campaigns size = 7 value = 0 }
	
	for_loop_effect = {
		end = 7
		value = v
		
		#Pick 10 random states from SLO.election_states
		clear_array = states_array
		resize_array = { array = states_array size = 10 value = 0 }
		clear_array = state_weights_array
		resize_array = { array = state_weights_array size = 10 value = 0 }
		
		if = {
			limit = { check_variable = { var = SLO.election_states^num value = 10 compare = less_than_or_equals } }
			for_each_loop = {
				array = SLO.election_states
				index = i
				value = v2
					
				set_variable = { states_array^i = v2 }
			}
		}
		else = {
			#More then 10 election states - pick 10 random states
			
			set_variable = { index = 0 }
			
			for_loop_effect = {
				end = 10
				value = v2
				
				random_scope_in_array = {
					array = SLO.election_states
					
					limit = {
						meta_trigger = {
							text = {
								NOT = { is_in_array = { array = PREV.states_array value = [STATE_ID] } }
							}
							
							STATE_ID = "[?THIS.GetID]"
						}
					}	
			
					meta_effect = {
						text = {
							set_variable = { PREV.states_array^PREV.index = [STATE_ID] }
						}
						
						STATE_ID = "[?THIS.GetID]"
					}
					add_to_variable = { PREV.index = 1 }
				}
			}
			
			clear_variable = index
		}
		
		#We now have our states - get the weights
		#Set the weights to their seat count
		
		set_variable = { index = 0 }
		
		for_each_scope_loop = {
			array = states_array
				
			set_variable = { PREV.state_weights_array^PREV.index = THIS.seat_count }
			
			add_to_variable = { PREV.index = 1 }
		}
		
		clear_variable = index
		
		for_loop_effect = {
			end = 10
			value = v2
			
			if = {  
				limit = { check_variable = { states_array^v2 = 0 } }
				set_variable = { state_weights_array^v2 = 0 }
			}
		}

		#We now have our states and our arrays -> Randomly decide which one to campaign in

#		for_loop_effect = {
#			end = 10
#			value = v2
#			
#			log = "[?SLO.states_array^v2|.0] - [?SLO.state_weights_array^v2|.0]"
#		}
#
#		log = " "
		
		random_list = {
			var:state_weights_array^0 = { set_variable = { SLO.selected_states_for_campaigns^v = states_array^0 } }
			var:state_weights_array^1 = { set_variable = { SLO.selected_states_for_campaigns^v = states_array^1 } }
			var:state_weights_array^2 = { set_variable = { SLO.selected_states_for_campaigns^v = states_array^2 } }
			var:state_weights_array^3 = { set_variable = { SLO.selected_states_for_campaigns^v = states_array^3 } }
			var:state_weights_array^4 = { set_variable = { SLO.selected_states_for_campaigns^v = states_array^4 } }
			var:state_weights_array^5 = { set_variable = { SLO.selected_states_for_campaigns^v = states_array^5 } }
			var:state_weights_array^6 = { set_variable = { SLO.selected_states_for_campaigns^v = states_array^6 } }
			var:state_weights_array^7 = { set_variable = { SLO.selected_states_for_campaigns^v = states_array^7 } }
			var:state_weights_array^8 = { set_variable = { SLO.selected_states_for_campaigns^v = states_array^8 } }
			var:state_weights_array^9 = { set_variable = { SLO.selected_states_for_campaigns^v = states_array^9 } }
		}
		
		clear_array = states_array
		clear_array = state_weights_array
	}
	
	set_variable = { SLO.selected_states_for_campaigns^SLO.party_campaigning_as = player_state }
	clear_variable = player_state
}

##8-10
#THIS_get_increase_var_fantastic_campaign = {
#	random_list = {
#		4   = { set_variable = { incr = 10.00 } }
#		31  = { set_variable = { incr = 9.75 } }
#		109 = { set_variable = { incr = 9.50 } }
#		219 = { set_variable = { incr = 9.25 } }
#		274 = { set_variable = { incr = 9.00 } }
#		219 = { set_variable = { incr = 8.75 } }
#		109 = { set_variable = { incr = 8.50 } }
#		31  = { set_variable = { incr = 8.25 } }
#		4   = { set_variable = { incr = 8.00 } }
#	}
#}
#
##6-8
#THIS_get_increase_var_great_campaign = {
#	random_list = {
#		4   = { set_variable = { incr = 8.00 } }
#		31  = { set_variable = { incr = 7.75 } }
#		109 = { set_variable = { incr = 7.50 } }
#		219 = { set_variable = { incr = 7.25 } }
#		274 = { set_variable = { incr = 7.00 } }
#		219 = { set_variable = { incr = 6.75 } }
#		109 = { set_variable = { incr = 6.50 } }
#		31  = { set_variable = { incr = 6.25 } }
#		4   = { set_variable = { incr = 6.00 } }
#	}
#}
#
##4-6
#THIS_get_increase_var_good_campaign = {
#	random_list = {
#		4   = { set_variable = { incr = 6.00 } }
#		31  = { set_variable = { incr = 5.75 } }
#		109 = { set_variable = { incr = 5.50 } }
#		219 = { set_variable = { incr = 5.25 } }
#		274 = { set_variable = { incr = 5.00 } }
#		219 = { set_variable = { incr = 4.75 } }
#		109 = { set_variable = { incr = 4.50 } }
#		31  = { set_variable = { incr = 4.25 } }
#		4   = { set_variable = { incr = 4.00 } }
#	}
#}
#
##2-4
#THIS_get_increase_var_mediocre_campaign = {
#	random_list = {
#		4   = { set_variable = { incr = 4.00 } }
#		31  = { set_variable = { incr = 3.75 } }
#		109 = { set_variable = { incr = 3.50 } }
#		219 = { set_variable = { incr = 3.25 } }
#		274 = { set_variable = { incr = 3.00 } }
#		219 = { set_variable = { incr = 2.75 } }
#		109 = { set_variable = { incr = 2.50 } }
#		31  = { set_variable = { incr = 2.25 } }
#		4   = { set_variable = { incr = 2.00 } }
#	}
#}
#
##0-2
#THIS_get_increase_var_disappointing_campaign = {
#	random_list = {
#		4   = { set_variable = { incr = 2.00 } }
#		31  = { set_variable = { incr = 1.75 } }
#		109 = { set_variable = { incr = 1.50 } }
#		219 = { set_variable = { incr = 1.25 } }
#		274 = { set_variable = { incr = 1.00 } }
#		219 = { set_variable = { incr = 0.75 } }
#		109 = { set_variable = { incr = 0.50 } }
#		31  = { set_variable = { incr = 0.25 } }
#		4   = { set_variable = { incr = 0.00 } }
#	}
#}
#
##-2-0
#THIS_get_increase_var_disastrous_campaign = {
#	random_list = {
#		4   = { set_variable = { incr = 0.00 } }
#		31  = { set_variable = { incr = -0.25 } }
#		109 = { set_variable = { incr = -0.50 } }
#		219 = { set_variable = { incr = -0.75 } }
#		274 = { set_variable = { incr = -1.00 } }
#		219 = { set_variable = { incr = -1.25 } }
#		109 = { set_variable = { incr = -1.50 } }
#		31  = { set_variable = { incr = -1.75 } }
#		4   = { set_variable = { incr = -2.00 } }
#	}
#}

#Do a multiplier instead of adding

#32-40%
THIS_get_increase_var_fantastic_campaign = {
	random_list = {
		8   = { set_variable = { incr = 1.40 } }
		55  = { set_variable = { incr = 1.39 } }
		164 = { set_variable = { incr = 1.38 } }
		273 = { set_variable = { incr = 1.37 } }
		273 = { set_variable = { incr = 1.35 } }
		164 = { set_variable = { incr = 1.34 } }
		55  = { set_variable = { incr = 1.33 } }
		8   = { set_variable = { incr = 1.32 } }
	}
}

#25-32%
THIS_get_increase_var_great_campaign = {
	random_list = {
		8   = { set_variable = { incr = 1.32 } }
		55  = { set_variable = { incr = 1.31 } }
		164 = { set_variable = { incr = 1.30 } }
		273 = { set_variable = { incr = 1.29 } }
		273 = { set_variable = { incr = 1.28 } }
		164 = { set_variable = { incr = 1.27 } }
		55  = { set_variable = { incr = 1.26 } }
		8   = { set_variable = { incr = 1.25 } }
	}
}

#18-25%
THIS_get_increase_var_good_campaign = {
	random_list = {
		8   = { set_variable = { incr = 1.25 } }
		55  = { set_variable = { incr = 1.24 } }
		164 = { set_variable = { incr = 1.23 } }
		273 = { set_variable = { incr = 1.22 } }
		273 = { set_variable = { incr = 1.21 } }
		164 = { set_variable = { incr = 1.20 } }
		55  = { set_variable = { incr = 1.19 } }
		8   = { set_variable = { incr = 1.18 } }
	}
}

#10-18%
THIS_get_increase_var_mediocre_campaign = {
	random_list = {
		4   = { set_variable = { incr = 1.18 } }
		31  = { set_variable = { incr = 1.17 } }
		109 = { set_variable = { incr = 1.16 } }
		219 = { set_variable = { incr = 1.15 } }
		274 = { set_variable = { incr = 1.14 } }
		219 = { set_variable = { incr = 1.13 } }
		109 = { set_variable = { incr = 1.12 } }
		31  = { set_variable = { incr = 1.11 } }
		4   = { set_variable = { incr = 1.10 } }
	}
}

#2-10
THIS_get_increase_var_disappointing_campaign = {
	random_list = {
		4   = { set_variable = { incr = 1.10 } }
		31  = { set_variable = { incr = 1.09 } }
		109 = { set_variable = { incr = 1.08 } }
		219 = { set_variable = { incr = 1.07 } }
		274 = { set_variable = { incr = 1.06 } }
		219 = { set_variable = { incr = 1.05 } }
		109 = { set_variable = { incr = 1.04 } }
		31  = { set_variable = { incr = 1.03 } }
		4   = { set_variable = { incr = 1.02 } }
	}
}

#-10 - -2%
THIS_get_increase_var_disastrous_campaign = {
	random_list = {
		4   = { set_variable = { incr = 0.98 } }
		31  = { set_variable = { incr = 0.97 } }
		109 = { set_variable = { incr = 0.96 } }
		219 = { set_variable = { incr = 0.95 } }
		274 = { set_variable = { incr = 0.94 } }
		219 = { set_variable = { incr = 0.93 } }
		109 = { set_variable = { incr = 0.92 } }
		31  = { set_variable = { incr = 0.91 } }
		4   = { set_variable = { incr = 0.90 } }
	}
}

STATE_add_party_support = {
	add_to_variable = { THIS.party_popularity^party = val }
	
	clear_variable = party
	clear_variable = val
	
	STATE_set_popularities_to_100 = yes
}